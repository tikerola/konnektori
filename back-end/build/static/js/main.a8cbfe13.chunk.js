(this["webpackJsonpdeitti-frontend"]=this["webpackJsonpdeitti-frontend"]||[]).push([[0],{147:function(e,t,a){e.exports=a(210)},206:function(e,t){},209:function(e,t,a){},210:function(e,t,a){"use strict";a.r(t);var n,r,o,c=a(0),i=a.n(c),s=a(15),l=a.n(s),u=a(249),p=a(213),d=a(4),m=a.n(d),f=a(8),b=a(247),h=a(81),g="rgba(255, 255, 255, 0.2)",x="rgba(0, 0, 0, 0.8)",E="rgba(0, 0, 0, 0.5)",v="rgba(0, 0, 0, 0.7)",O="rgba(0, 0, 0, 0.7)",y="rgba(0, 0, 0, 0.7)",w="#bbb",k="white",j="white",C="white",N="white",I="white",T="rgba(100, 100, 100, 0.5)",S=a(7),D=a(20),L=a.n(D),A="/api/user",P={signup:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("".concat(A,"/signup"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),login:function(){var e=Object(f.a)(m.a.mark((function e(t){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.post("".concat(A,"/login"),t);case 2:return a=e.sent,e.abrupt("return",a.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),edit:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:n}},e.next=3,L.a.post("".concat(A,"/edit"),t,a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addProfileImage:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",t,t.name),r={headers:{Authorization:n,"Content-Type":"multipart/form-data; boundary=".concat(a._boundary)}},e.next=5,L.a.post("".concat(A,"/image"),a,r);case 5:return o=e.sent,e.abrupt("return",o.data);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),addToFavorites:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:n}},e.next=3,L.a.post("".concat(A,"/addToFavorites"),{username:t,operation:a},r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),blockUser:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var r,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r={headers:{Authorization:n}},e.next=3,L.a.post("".concat(A,"/blockUser"),{userToBlock:t,block:a},r);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),toggleChatEnabled:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:n}},e.next=3,L.a.post("".concat(A,"/enableChat"),{enable:t},a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),toggleProfileVisible:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:n}},e.next=3,L.a.post("".concat(A,"/setVisible"),{visible:t},a);case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),saveToken:function(e){n="bearer "+e},eraseUser:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:n}},e.next=3,L.a.post("".concat(A,"/eraseUser"),{reasonToLeave:""},t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},R={fetchInbox:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:r}},e.next=3,L.a.get("".concat("/api/messages","/inbox"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),fetchSent:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:r}},e.next=3,L.a.get("".concat("/api/messages","/sent"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),reply:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:r}},e.next=3,L.a.post("".concat("/api/messages","/reply"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sendMail:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:r}},e.next=3,L.a.post("".concat("/api/messages","/send"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),deleteMail:function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,o;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={headers:{Authorization:r}},e.next=3,L.a.post("".concat("/api/messages","/delete"),{id:t,source:a},n);case 3:return o=e.sent,e.abrupt("return",o.data);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),setUnreadMailCount:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:r}},e.next=3,L.a.get("".concat("/api/messages","/unread"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),setMailRead:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:r}},e.next=3,L.a.post("".concat("/api/messages","/read"),{id:t},a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),saveToken:function(e){r="bearer "+e}},F=function(e){return{type:"SET_NOTIFICATION",message:e}},_=function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var o;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r().user.token,R.saveToken(o),a.prev=2,a.next=5,R.deleteMail(e,t);case 5:n({type:"DELETE_MAIL",source:t,id:e}),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(2),console.log(a.t0);case 11:case"end":return a.stop()}}),a,null,[[2,8]])})));return function(e,t){return a.apply(this,arguments)}}()},U=function(){return{type:"RESET"}},B=function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var o,c,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r().user.token,P.saveToken(o),a.next=4,P.addToFavorites(e,t);case 4:c=a.sent,i="add"===c.operation?"ADD_TO_FAVORITES":"REMOVE_FROM_FAVORITES",n({type:i,profile:c.profile});case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},W=a(40),z=function(){return{type:"OPEN_CHAT"}},M=function(e,t){return{type:"CREATE_CHAT_SESSION",id:e,session:{messages:[],dot:0},setChatWith:t}},H=function(e){return{type:"DESTROY_SESSION",sessionId:e}},G=function(e){return{type:"SET_CHAT_WITH",chatWith:e}},V=function(e,t){return{type:"SET_DOT",id:e,onOff:t}},$=a(11),Y=a(243),K=a(264),X=function(e,t,a){var n=Object(c.useState)(a||""),r=Object($.a)(n,2),o=r[0],i=r[1];return[{value:o,type:e,onChange:function(e){t&&t.test(e.target.value)||i(e.target.value)}},function(){i("")}]},q=a(113),J=a.n(q),Q=a(64),Z=a.n(Q),ee=Object(Y.a)("div")({width:"322px",height:"500px",overflow:"hidden",color:"#fff",textAlign:"center",borderTopLeftRadius:"50px",borderTopRightRadius:"50px",borderBottomRightRadius:"5px",borderBottomLeftRadius:"5px",position:"fixed",zIndex:50,right:"5%",bottom:"30px",fontSize:"17px",boxShadow:"0px 4px 18px 7px rgba(0,0,0,0.75)",backgroundImage:"url('/assets/images/puh1.png')"}),te=Object(Y.a)("div")({width:"322px",backgroundColor:"#1769aa",color:"#fff",textAlign:"center",borderRadius:"5px",paddingTop:"10px",paddingBottom:"10px",position:"fixed",zIndex:50,right:"5%",bottom:"30px",fontSize:"17px",boxShadow:"0px 4px 18px 7px rgba(0,0,0,0.75)",display:"flex",flexDirection:"row",justifyContent:"space-around"}),ae=Object(h.a)({root:{height:"100%",width:"100%"},navigation:{height:"20%",color:"white",background:"rgba(25, 25, 250, 0.8)",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",paddingLeft:"25px"},body:{height:"80%",display:"flex",flexDirection:"column",justifyContent:"flex-end",background:"rgba(25, 25, 250, 0.8)"},text:{paddingTop:"30px",width:"100%",height:"85%",overflow:"auto",color:"black",borderRadius:"5px"},inputContainer:{height:"12%",width:"100%",padding:0,borderRadius:"5px",marginTop:"3%",display:"flex",flexDirection:"row",justifyContent:"center"},input:{width:"100%",borderStyle:"none",padding:"10px",borderBottomLeftRadius:"5px",borderBottomRightRadius:"5px"},left:{width:"88%",paddingLeft:"12%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-start",textAlign:"left",color:"white"},right:{width:"90%",paddingRight:"10%",display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"flex-end",textAlign:"right",color:"white"},li:{maxWidth:"70%",padding:"5px",marginTop:"10px",marginBottom:"10px",borderRadius:"5px"},button:{fontSize:"0.6em",color:"#aaa",padding:0},textField:{width:"180px"},cssLabel:{color:k,fontSize:"0.7em"},cssOutlinedInput:{"&$cssFocused":{borderColor:"".concat(N," !important")},color:"white",fontSize:"0.8em"},cssFocused:{color:"".concat(j," !important")},icon:{backgroundColor:"white"},icons:{display:"flex",flexDirection:"row",alignItems:"center",paddingRight:"25px"}}),ne=Object(S.b)((function(e){return{username:e.user.username,candidates:Object.keys(e.chat.sessions),sessions:e.chat.sessions,chatWith:e.chat.chatWith,maxWindow:e.chat.maxWindow}}),{sendChatMessage:function(e,t,a){return function(){var n=Object(f.a)(m.a.mark((function n(r,o){return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:sn.emit("chat",{from:e,to:t,message:a}),r({type:"ADD_CHAT_MESSAGE",id:t,message:"You: ".concat(a)});case 2:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},closeChat:function(){return{type:"CLOSE_CHAT"}},setChatWith:G,setDot:V,setMaxWindow:function(e){return{type:"SET_MAX_WINDOW",onOff:e}}})(Object(W.f)((function(e){var t=e.sendChatMessage,a=e.username,n=e.closeChat,r=e.candidates,o=e.sessions,s=e.chatWith,l=e.setDot,u=e.setMaxWindow,p=e.maxWindow,d=Object(c.useState)(!1),m=Object($.a)(d,2),f=m[0],h=m[1],g=X("text"),x=Object($.a)(g,2),E=x[0],v=x[1],O=Object(c.useRef)(),y=ae();Object(c.useEffect)((function(){O.current&&O.current.scrollIntoView({behavior:"smooth"})}));return f||p?i.a.createElement(ee,null,i.a.createElement("div",{className:y.root},i.a.createElement("div",{className:y.navigation},s,i.a.createElement("div",{className:y.icons},i.a.createElement(J.a,{fontSize:"small",style:{paddingRight:"10px",cursor:"pointer"},onClick:function(){h(!1),u(!1)}}),i.a.createElement(Z.a,{fontSize:"small",onClick:function(){n(),u(!1)},style:{cursor:"pointer"}}))),i.a.createElement("div",{className:y.body},i.a.createElement("div",{className:y.text},i.a.createElement("ul",{style:{listStyleType:"none",margin:0,padding:0,width:"100%"}},s&&o[s].messages.map((function(e,t){return i.a.createElement("div",{key:t,className:e.includes("You: ")?y.right:y.left},i.a.createElement("li",{className:y.li,style:{background:e.includes("You: ")?"blue":"purple"}},e))})),r&&i.a.createElement("div",{ref:O}))),i.a.createElement("div",{className:y.inputContainer},i.a.createElement("input",Object.assign({},E,{onKeyUp:function(e){"Enter"===e.key&&(t(a,s,E.value),v())},className:y.input,placeholder:"write something..."})))))):i.a.createElement(te,null,s?i.a.createElement(b.a,{size:"small",className:y.button,onClick:function(){h(!0),l(s,0),u(!0)}},"Open"):i.a.createElement(K.a,{className:y.link,title:i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,"You need to have a person selected to be able to chat"),i.a.createElement("p",null,"Add people from their profile page")),placement:"top"},i.a.createElement(b.a,{size:"small",className:y.button},"Open")),"CHAT",i.a.createElement(b.a,{size:"small",className:y.button,onClick:function(){return n()}},"close"))}))),re=a(115),oe=a.n(re),ce=a(116),ie=a.n(ce),se=a(248),le=Object(Y.a)("div")({width:"100px",height:"30px",background:"rgba(0,0,0,0.9)",color:"#bbb",borderTopRightRadius:"10px",borderBottomLeftRadius:"10px",boxShadow:"0px 4px 18px 7px rgba(0,0,0,0.75)",position:"fixed",bottom:"30px",fontSize:"0.8em",padding:"5px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid blue",transition:"all .2s ease-in-out","&:hover":{boxShadow:"0px 2px 10px 5px rgba(0,0,0,0.75)"}}),ue=Object(h.a)({buttonContainer:{width:"100%",display:"flex",flexDirection:"column"},icon:{fontSize:"0.7em",marginLeft:"auto",cursor:"pointer"},name:{cursor:"pointer"}}),pe=Object(S.b)((function(e){return{candidates:Object.keys(e.chat.sessions),chatWith:e.chat.chatWith,sessions:e.chat.sessions}}),{setChatWith:G,setDot:V,destroySession:H})((function(e){var t=e.candidates,a=e.chatWith,n=e.setChatWith,r=e.sessions,o=e.setDot,c=e.destroySession,s=ue(),l=function(e,t){return{left:150+130*e,color:a===t?"white":"#999"}};return i.a.createElement("div",null,t&&t.map((function(e,t){return i.a.createElement(le,{key:t,style:l(t,e)},i.a.createElement(se.a,{badgeContent:r[e].dot,className:s.buttonContainer,color:"primary",variant:"dot",anchorOrigin:{horizontal:"left",vertical:"top"}},i.a.createElement(Z.a,{className:s.icon,onClick:function(){return c(e)}}),i.a.createElement("span",{className:s.name,onClick:function(){n(e),o(e,0)}},e.length>5?"".concat(e.substring(0,8),"..."):e)))})))})),de=Object(h.a)({root:{width:"96.4%",height:"10%",padding:"10px",margin:"1% auto",backgroundColor:x,display:"flex",flexDirection:"row",justifyContent:"space-between",alignItems:"center",border:"2px solid #bbb"},loggedInContainer:{color:"#bbb",fontSize:"1.3em",marginRight:"15px",width:"35%"},loggedIn:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between"},username:{color:"white"},iconAndText:{display:"flex",flexDirection:"row",alignItems:"center"}}),me={logout:U,setNotification:F,receiveChatMessage:function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var o,c,i;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o=r().chat.sessions,c=r().chat.chatWith,i=r().chat.maxWindow,o[e]){a.next=6;break}return a.next=6,n(M(e,!1));case 6:c!==e?(n(F("".concat(e,": ").concat(t.substring(0,20),"..."))),n(V(e,1))):i||(n(F("".concat(e,": ").concat(t.substring(0,20),"..."))),n(V(e,1))),n({type:"RECEIVE_CHAT_MESSAGE",id:e,message:"".concat(e,": ").concat(t)});case 8:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()},mailUnread:function(){return{type:"MAIL_UNREAD"}},addToFavorites:B,beingBlocked:function(e,t){return{type:t?"BEING_BLOCKED":"BEING_UNBLOCKED",userWhoBlocked:e}},destroySession:H},fe=Object(S.b)((function(e){return{username:e.user.username,loggedIn:e.user.loggedIn,chatOpen:e.chat.chatOpen}}),me)(Object(W.f)((function(e){var t=e.username,a=e.loggedIn,n=e.logout,r=e.setNotification,o=e.history,s=e.receiveChatMessage,l=e.chatOpen,u=e.mailUnread,d=e.addToFavorites,h=e.beingBlocked,g=e.destroySession,x=de();Object(c.useEffect)((function(){sn.on("mail",(function(e){e.receiver===t?(r("".concat(e.mail.author," sent you mail")),u()):e.author===t&&r("You sent mail to ".concat(e.mail.receiver))})),sn.on("block_user",(function(e){e.to===t&&(e.block&&d(e.from,"remove"),h(e.from,e.block),g(e.from))}))}),[]),Object(c.useEffect)((function(){t&&sn.emit("newUser",t),sn.on("chat",(function(e){e.to===t&&s(e.from,e.message)})),sn.on("disconnect",(function(e){console.log(e,"socket disconnect reason *********************"),"io server disconnect"===e&&sn.connect()}))}),[]);var E=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.push("/");case 2:n();case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement(p.a,{className:x.root,elevation:5},i.a.createElement("img",{src:"/assets/images/title3.png",alt:"title"}),i.a.createElement("div",{className:x.loggedInContainer},a?i.a.createElement("div",{className:x.loggedIn},i.a.createElement("div",{className:x.iconAndText},i.a.createElement(oe.a,{style:{paddingRight:"5px"}})," ",i.a.createElement("p",null,"Logged in: ",i.a.createElement("span",{className:x.username},t))),i.a.createElement("img",{src:"/assets/images/boygirl.png",width:"130",alt:"face"}),i.a.createElement("div",{className:x.iconAndText},i.a.createElement(ie.a,{style:{paddingRight:"5px"}}),i.a.createElement(b.a,{color:"primary",size:"small",onClick:E},"Log out"))):"",l&&i.a.createElement(ne,null),l&&i.a.createElement(pe,null)))}))),be=a(13),he=a(261),ge=Object(u.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center"},container:{width:"90%",height:"90%",margin:"10px",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-between"},header:{width:"100%",textAlign:"center",color:w},textField:{color:I,background:T},cssLabel:{color:k},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"".concat(N," !important")},color:"white"},cssFocused:{color:"".concat(j," !important")},icon:{backgroundColor:"inherit"},notchedOutline:{borderWidth:"1px",borderColor:"".concat(C," !important")},button:{width:"50%",margin:"20px auto"},register:{width:"90%",margin:"10px",color:w,fontSize:"1em",textAlign:"left","& p":{color:"white",fontSize:"1.3em",cursor:"pointer"}}}),xe={login:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a){var n;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,P.login(e);case 3:return n=t.sent,t.next=6,a({type:"LOGIN",userData:n});case 6:a(function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().user.token,R.saveToken(n),e.next=4,R.setUnreadMailCount();case 4:r=e.sent,t({type:"SET_UNREAD_MAIL_COUNT",count:r.count});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),a(F("Wrong username or password"));case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()},setNotification:F},Ee=Object(S.b)(null,xe)((function(e){var t=X("text"),a=Object($.a)(t,2),n=a[0],r=a[1],o=X("password"),c=Object($.a)(o,2),s=c[0],l=c[1],u=ge(),p=function(){var t=Object(f.a)(m.a.mark((function t(a){return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),n.value&&s.value){t.next=4;break}return e.setNotification("You need to provide both values"),t.abrupt("return");case 4:e.login({username:n.value,password:s.value}),r(),l();case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();return i.a.createElement("div",{className:u.root},i.a.createElement("form",{className:u.container},i.a.createElement("div",{className:u.header},i.a.createElement("h1",null,"Login")),i.a.createElement("input",{type:"password",style:{display:"none"},readOnly:!0,autoComplete:"new-password"}),i.a.createElement(he.a,Object.assign({},n,{className:u.textField,label:"Username",margin:"normal",fullWidth:!0,required:!0,variant:"outlined",InputLabelProps:{classes:{root:u.cssLabel,focused:u.cssFocused}},InputProps:{classes:{root:u.cssOutlinedInput,focused:u.cssFocused,notchedOutline:u.notchedOutline}}})),i.a.createElement(he.a,Object.assign({className:u.textField},s,{label:"Password",margin:"normal",fullWidth:!0,required:!0,variant:"outlined",InputLabelProps:{classes:{root:u.cssLabel,focused:u.cssFocused}},InputProps:{classes:{root:u.cssOutlinedInput,focused:u.cssFocused,notchedOutline:u.notchedOutline}}})),i.a.createElement(b.a,{variant:"contained",color:"primary",className:u.button,onClick:p},"Login")),i.a.createElement("div",{className:u.register},"Don't have an account yet?",i.a.createElement("p",{className:u.link,onClick:e.toggleRegister},"Register here")))})),ve=a(265),Oe=[{value:"",label:"Gender"},{value:"male",label:"Male"},{value:"female",label:"Female"}],ye=Object(u.a)({root:{width:"100%",height:"100%",display:"flex",flexDirection:"column",alignItems:"center"},container:{width:"90%",height:"95%",display:"flex",flexDirection:"column",justifyContent:"space-between"},header:{width:"100%",textAlign:"center",color:w},textField:{color:I,background:T},cssLabel:{color:k},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"".concat(N," !important")},color:"white"},cssFocused:{color:"".concat(j," !important")},icon:{backgroundColor:"inherit"},notchedOutline:{borderWidth:"1px",borderColor:"".concat(C," !important")},button:{width:"50%",margin:"20px auto"},register:{width:"90%",height:"10%",margin:"10px",color:w,fontSize:"1em",textAlign:"left","& p":{color:"white",fontSize:"1.3em",cursor:"pointer"}}}),we={signup:function(e){return{type:"SIGNUP",userData:e}},setNotification:F},ke=Object(S.b)(null,we)((function(e){var t=X("text"),a=Object($.a)(t,2),n=a[0],r=a[1],o=X("text"),c=Object($.a)(o,2),s=c[0],l=c[1],u=X("text",/\D|\d{3}/),p=Object($.a)(u,2),d=p[0],h=p[1],g=X("password"),x=Object($.a)(g,2),E=x[0],v=x[1],O=X("password"),y=Object($.a)(O,2),w=y[0],k=y[1],j=ye(),C=function(){var t=Object(f.a)(m.a.mark((function t(a){var o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a.preventDefault(),N()){t.next=3;break}return t.abrupt("return");case 3:return t.next=5,P.signup({username:n.value,password:E.value,age:+d.value,gender:s.value});case 5:o=t.sent,e.signup(o),r(),l(),h(),v(),k(),e.toggleRegister();case 13:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),N=function(){return n.value&&d.value&&s.value&&E.value&&w.value?E.value!==w.value?(e.setNotification("Passwords wont match"),!1):E.value.length<6?(e.setNotification("Password must be at least 6 characters"),!1):n.value.length<4?(e.setNotification("Username must be at least 4 characters"),!1):!(d.value<18||d.value>99)||(e.setNotification("Age must be between 18 and 99"),!1):(e.setNotification("All fields must be filled"),!1)};return i.a.createElement("div",{className:j.root},i.a.createElement("div",{className:j.container},i.a.createElement("div",{className:j.header},i.a.createElement("h1",null,"Sign Up")),i.a.createElement("input",{type:"password",style:{display:"none"},readOnly:!0,autoComplete:"new-password"}),i.a.createElement(he.a,Object.assign({},n,{margin:"dense",required:!0,className:j.textField,label:"Username",fullWidth:!0,variant:"outlined",InputLabelProps:{classes:{root:j.cssLabel,focused:j.cssFocused}},InputProps:{classes:{root:j.cssOutlinedInput,focused:j.cssFocused,notchedOutline:j.notchedOutline}}})),i.a.createElement(he.a,Object.assign({select:!0,margin:"dense",required:!0,className:j.textField,label:"Gender"},s,{variant:"outlined",InputLabelProps:{classes:{root:j.cssLabel,focused:j.cssFocused}},InputProps:{classes:{root:j.cssOutlinedInput,focused:j.cssFocused,notchedOutline:j.notchedOutline}}}),Oe.map((function(e){return i.a.createElement(ve.a,{key:e.value,value:e.value},e.label)}))),i.a.createElement(he.a,Object.assign({className:j.textField},d,{margin:"dense",required:!0,label:"Age",variant:"outlined",InputLabelProps:{classes:{root:j.cssLabel,focused:j.cssFocused}},InputProps:{classes:{root:j.cssOutlinedInput,focused:j.cssFocused,notchedOutline:j.notchedOutline}}})),i.a.createElement(he.a,Object.assign({className:j.textField},E,{margin:"dense",required:!0,label:"Password",variant:"outlined",InputLabelProps:{classes:{root:j.cssLabel,focused:j.cssFocused}},InputProps:{classes:{root:j.cssOutlinedInput,focused:j.cssFocused,notchedOutline:j.notchedOutline}}})),i.a.createElement(he.a,Object.assign({className:j.textField},w,{margin:"dense",required:!0,label:"Confirm password",variant:"outlined",InputLabelProps:{classes:{root:j.cssLabel,focused:j.cssFocused}},InputProps:{classes:{root:j.cssOutlinedInput,focused:j.cssFocused,notchedOutline:j.notchedOutline}}})),i.a.createElement(b.a,{variant:"contained",size:"small",color:"primary",className:j.button,onClick:C},"Submit"),i.a.createElement("div",{className:j.register},"Have already an account?",i.a.createElement("p",{className:j.link,onClick:e.toggleRegister},"Login here"))))})),je=function(e){var t=Object(c.useState)(!0),a=Object($.a)(t,2),n=a[0],r=a[1],o=function(){r(!n)};return i.a.createElement("div",null,n?i.a.createElement(Ee,{toggleRegister:o}):i.a.createElement(ke,{toggleRegister:o}))},Ce=a(250),Ne=a(266),Ie=a(251),Te=a(267),Se=a(26),De={searchProfiles:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:o}},e.next=3,L.a.post("".concat("/api/profiles","/search"),t,a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),searchProfile:function(){var e=Object(f.a)(m.a.mark((function e(t){var a,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={headers:{Authorization:o}},e.next=3,L.a.post("".concat("/api/profiles","/searchOne"),{username:t},a);case 3:return n=e.sent,e.abrupt("return",n.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),fetchFavorites:function(){var e=Object(f.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t={headers:{Authorization:o}},e.next=3,L.a.get("".concat("/api/profiles","/favorites"),t);case 3:return a=e.sent,e.abrupt("return",a.data);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),saveToken:function(e){o="bearer "+e}},Le=function(e){return{type:"SET_SEARCH",data:e}};function Ae(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Pe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ae(a,!0).forEach((function(t){Object(Se.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ae(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Re=function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().user.token,De.saveToken(r),t.next=4,De.searchProfiles(e);case 4:(o=t.sent).count>=0?a(Le(Pe({},e,{profileCount:o.count}))):a(Le(e)),a({type:"SEARCH_PROFILES",profiles:o.profiles});case 7:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},Fe=Object(u.a)({root:{width:"80%",height:"90%",margin:"0 auto",color:"#bbb",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"space-around"},typography:{marginRight:"auto"},button:{marginTop:"20px"},switchBase:{color:"#1769aa","&$checked":{color:"purple"},"&$checked + $track":{backgroundColor:"rgb(0, 0, 0, 0)"}},track:{},checked:{},textField:{color:"#bbb",background:"rgba(0, 0, 0, 0)"},cssLabel:{color:"#bbb"},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"#1769aa !important"},borderColor:"#444",color:"#444"},cssFocused:{color:"".concat(j," !important")},icon:{backgroundColor:"inherit"},notchedOutline:{borderWidth:"1px",borderColor:"#1769aa !important"},paper:{width:"90%",background:E,padding:"15px",color:"#bbb",textAlign:"left"}});function _e(e){return"".concat(e)}var Ue=Object(S.b)(null,{searchProfiles:Re,searchProfile:function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var o,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r().user.token,De.saveToken(o),a.prev=2,a.next=5,De.searchProfile(e);case 5:return c=a.sent,a.next=8,n({type:"SEARCH_PROFILES",profiles:[c]});case 8:t.push("/search/profiles/".concat(e)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(2),n(F("No such username"));case 14:case"end":return a.stop()}}),a,null,[[2,11]])})));return function(e,t){return a.apply(this,arguments)}}()}})(Object(W.f)((function(e){var t=Fe(),a=i.a.useState([18,99]),n=Object($.a)(a,2),r=n[0],o=n[1],c=i.a.useState(!0),s=Object($.a)(c,2),l=s[0],u=s[1],d=X("text"),m=Object($.a)(d,2),f=m[0],h=m[1];return i.a.createElement("div",{className:t.root},i.a.createElement(p.a,{className:t.paper},i.a.createElement(Ce.a,{className:t.typography,id:"age-slider",gutterBottom:!0},"Age range"),i.a.createElement(Ne.a,{value:r,onChange:function(e,t){o(t)},valueLabelDisplay:"auto","aria-labelledby":"age-slider",getAriaValueText:_e}),i.a.createElement(Ce.a,{className:t.typography,style:{marginTop:"25px"},component:"div"},"Looking for"),i.a.createElement(Ie.a,{component:"label",container:!0,alignItems:"center",spacing:1},i.a.createElement(Ie.a,{item:!0},"Men"),i.a.createElement(Ie.a,{item:!0},i.a.createElement(Te.a,{classes:{switchBase:t.switchBase},checked:l,onChange:function(e){return u(e.target.checked)},value:"male",color:"primary"})),i.a.createElement(Ie.a,{item:!0},"Women")),i.a.createElement(b.a,{className:t.button,size:"small",variant:"outlined",color:"primary",onClick:function(){var t={age:r,gender:!1===l?"male":"female",page:1,limit:12};e.searchProfiles(t),e.history.push("/search/profiles")}},"Search")),i.a.createElement(p.a,{className:t.paper},i.a.createElement(he.a,Object.assign({},f,{className:t.textField,label:"Search by username",margin:"dense",fullWidth:!0,variant:"outlined",InputLabelProps:{classes:{root:t.cssLabel,focused:t.cssFocused}},InputProps:{classes:{root:t.cssOutlinedInput,focused:t.cssFocused,notchedOutline:t.notchedOutline}}})),i.a.createElement(b.a,{className:t.button,size:"small",variant:"outlined",color:"primary",onClick:function(){e.searchProfile(f.value,e.history),h()}},"Search")))}))),Be=a(118),We=a.n(Be),ze=a(117),Me=a.n(ze),He=Object(h.a)({root:{width:"100%",height:"10%",background:y,display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",color:"#bbb",boxShadow:"-1px 5px 18px 0px rgba(255,255,255,0.7)"},navLink:{color:"#999",textDecoration:"none",display:"flex",flexDirection:"row",alignItems:"center"},active:{color:"white"},icon:{paddingRight:"5px"}}),Ge=Object(S.b)((function(e){return{favorites:e.user.favorites}}),{fetchFavorites:function(e){return{type:"FETCH_FAVORITES",profiles:e}}})((function(e){var t=e.fetchFavorites,a=e.favorites,n=He();return i.a.createElement("div",{className:n.root},i.a.createElement("p",null,i.a.createElement(be.c,{to:"/profile",activeClassName:n.active,className:n.navLink,exact:!0},i.a.createElement(Me.a,{className:n.icon}),"Profile")),i.a.createElement("p",null,i.a.createElement(be.c,{to:"/search",activeClassName:n.active,className:n.navLink,onClick:function(){return t(a)}},i.a.createElement(We.a,{className:n.icon}),"Search")))})),Ve=a(119),$e=a.n(Ve),Ye=a(65),Ke=a.n(Ye),Xe=a(66),qe=a.n(Xe),Je=Object(h.a)({root:{height:"90%",width:"100%",color:"#bbb",display:"flex",flexDirection:"column",justifyContent:"space-around",alignItems:"center"},statsContainer:{width:"80%",height:"40%"},postsContainer:{width:"80%"},link:{color:"#bbb",display:"flex",flexDirection:"row",alignItems:"center",textDecoration:"none"},paper:{background:E,padding:"12px",paddingLeft:"40px",color:"#bbb",textAlign:"left"},icon:{paddingRight:"5px"}}),Qe={fetchInbox:function(){return function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().user.token,R.saveToken(n),e.next=4,R.fetchInbox();case 4:r=e.sent,t({type:"FETCH_INBOX",inbox:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},fetchSent:function(){return function(){var e=Object(f.a)(m.a.mark((function e(t,a){var n,r;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a().user.token,R.saveToken(n),e.next=4,R.fetchSent();case 4:r=e.sent,t({type:"FETCH_SENT",sent:r});case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},openChat:z},Ze=Object(S.b)((function(e){return{user:e.user,countOfUnread:e.mail.countOfUnread}}),Qe)((function(e){var t=e.user,a=e.fetchInbox,n=e.fetchSent,r=e.countOfUnread,o=e.openChat,c=Je();return i.a.createElement("div",{className:c.root},i.a.createElement("div",{className:c.statsContainer},i.a.createElement(p.a,{elevation:10,className:c.paper},i.a.createElement("h2",null,"Personal info"),i.a.createElement("p",null,"Username: ",t.username),i.a.createElement("p",null,"Gender: ",t.gender),i.a.createElement("p",null,"Age: ",t.age))),i.a.createElement("div",{className:c.postsContainer},i.a.createElement(p.a,{elevation:10,className:c.paper},i.a.createElement("p",null,i.a.createElement(be.b,{to:"/profile/inbox",className:c.link,onClick:function(){return a()}},i.a.createElement(se.a,{badgeContent:r,color:"primary",anchorOrigin:{horizontal:"left",vertical:"top"}},i.a.createElement($e.a,{className:c.icon})),"Inbox")),i.a.createElement("p",null,i.a.createElement(be.b,{to:"/profile/sent",className:c.link,onClick:function(){return n()}},i.a.createElement(Ke.a,{className:c.icon}),"Sent mail")),i.a.createElement("p",{className:c.link,onClick:o,style:{cursor:"pointer"}},i.a.createElement(qe.a,{className:c.icon}),"Chat"))))})),et=Object(h.a)({root:{height:"90%",width:"100%",color:"#bbb",display:"flex",flexDirection:"column",justifyContent:"flex-start",marginTop:"20%",alignItems:"center"},container:{width:"80%",height:"50%"},link:{color:"#bbb"},paper:{background:E,padding:"16px",color:"#bbb",textAlign:"center"}}),tt=Object(S.b)((function(e,t){var a=t.match;return{profile:e.profiles.find((function(e){return e.username===a.params.username}))}}))((function(e){var t=e.profile,a=(e.fromFavorites,et());return i.a.createElement("div",{className:a.root},i.a.createElement("div",{className:a.container},i.a.createElement(p.a,{className:a.paper,elevation:10},i.a.createElement("h2",null,"Personal info"),i.a.createElement("p",null,"Username: ",t.username),i.a.createElement("p",null,"Gender: ",t.gender),i.a.createElement("p",null,"Age: ",t.age))))})),at=a(120),nt=a.n(at),rt=Object(h.a)({root:{width:"80%",height:"90%",margin:"0 auto",color:"#bbb",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",marginTop:"20%"},container:{width:"100%",height:"80%",textAlign:"center"},typography:{marginRight:"auto"},link:{color:"red",textDecoration:"none",border:"1px solid red",padding:"5px",display:"flex",alignItems:"center"},paper:{background:E,padding:"16px",paddingLeft:"30px",color:"#bbb",textAlign:"left"},switchBase:{color:"#1769aa","&$checked":{color:"purple"},"&$checked + $track":{backgroundColor:"rgb(0, 0, 0, 0)"}},track:{},checked:{},linkContainer:{paddingTop:"20px"},icon:{paddingRight:"5px",paddingLeft:"15px",color:"red"}}),ot=Object(S.b)((function(e){return{chatEnabled:e.user.profile.chatEnabled,visible:e.user.profile.visible}}),{toggleChatEnabled:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().user.token,P.saveToken(r),t.next=4,P.toggleChatEnabled(e);case 4:o=t.sent,a({type:"TOGGLE_CHAT_ENABLED",enable:o});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()},toggleProfileVisible:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().user.token,P.saveToken(r),t.next=4,P.toggleProfileVisible(e);case 4:o=t.sent,a({type:"TOGGLE_PROFILE_VISIBLE",visible:o});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.chatEnabled,a=e.toggleChatEnabled,n=e.visible,r=e.toggleProfileVisible,o=rt();return i.a.createElement("div",{className:o.root},i.a.createElement("div",{className:o.container},i.a.createElement(p.a,{className:o.paper,elevation:10},i.a.createElement("h2",null,"Settings"),i.a.createElement(Ce.a,{className:o.typography,style:{marginTop:"25px"},component:"div"},"Chat Enabled"),i.a.createElement(Ie.a,{component:"label",container:!0,alignItems:"center",spacing:1},i.a.createElement(Ie.a,{item:!0},"Disabled"),i.a.createElement(Ie.a,{item:!0},i.a.createElement(Te.a,{classes:{switchBase:o.switchBase},checked:t,onChange:function(){return a(!t)},value:"male",color:"primary"})),i.a.createElement(Ie.a,{item:!0},"Enabled")),i.a.createElement(Ce.a,{className:o.typography,style:{marginTop:"25px"},component:"div"},"Profile Visible"),i.a.createElement(Ie.a,{component:"label",container:!0,alignItems:"center",spacing:1},i.a.createElement(Ie.a,{item:!0},"Hidden"),i.a.createElement(Ie.a,{item:!0},i.a.createElement(Te.a,{classes:{switchBase:o.switchBase},checked:n,onChange:function(){return r(!n)},value:"male",color:"primary"})),i.a.createElement(Ie.a,{item:!0},"Visible")),i.a.createElement("hr",{style:{border:"none",borderTop:"1px solid #bbb",marginTop:"15px"}}),i.a.createElement("div",{className:o.linkContainer},i.a.createElement(be.b,{to:"/erase",className:o.link},i.a.createElement(nt.a,{className:o.icon}),"Erase Profile")))))})),ct=Object(h.a)({root:{background:v,width:"25%",height:"90%",marginLeft:"1%",marginRight:"1%",border:"2px solid #bbb"}}),it=Object(S.b)((function(e){return{loggedIn:e.user.loggedIn}}))((function(e){var t=ct();return i.a.createElement(p.a,{className:t.root,elevation:10},e.loggedIn&&i.a.createElement(Ge,null),i.a.createElement(W.b,{path:"/search/profiles/:username",component:tt}),i.a.createElement(W.b,{exact:!0,path:"/search/profiles/",component:Ue}),i.a.createElement(W.b,{exact:!0,path:"/search",component:Ue}),i.a.createElement(W.b,{exact:!0,path:"/settings",component:ot}),i.a.createElement(W.b,{exact:!0,path:"/erase",component:ot}),i.a.createElement(W.b,{path:"/profile",component:Ze}),i.a.createElement(W.b,{path:"/",render:function(){return e.loggedIn?i.a.createElement(W.a,{to:"/profile"}):i.a.createElement(je,null)}}))})),st=a(253),lt=a(255),ut=a(254),pt=Object(u.a)({card:{width:"90px",height:"100%",background:"black",marginLeft:"10px",boxShadow:"10px 10px 5px 0px rgba(0,0,0,0.75)",display:"flex",flexDirection:"column",justifyContent:"space-between"},cardContent:{padding:0},image:{margin:"0 auto"},button:{margin:"0 auto",fontSize:"0.5em"}}),dt=function(e){var t=pt();return i.a.createElement(st.a,{className:t.card,elevation:10},i.a.createElement(ut.a,{className:t.cardContent},i.a.createElement("img",{src:e.image,alt:"profile",width:"90",className:t.image})),i.a.createElement(lt.a,null,i.a.createElement(b.a,{size:"small",className:t.button,color:"primary"},e.username)))},mt=Object(h.a)({root:{width:"100%",height:"100%",color:"#bbb",paddingTop:"15px",textAlign:"center"},center:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center"},container:{width:"80%",display:"grid",gridTemplateColumns:"auto auto auto auto auto auto",gridRowGap:"20px",alignContent:"space-evenly"},pagination:{margin:"30px auto",width:"30%",display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"baseline",fontSize:"1.3em"}}),ft={searchProfiles:Re},bt=Object(S.b)((function(e){return{profiles:e.profiles,searchOptions:e.search}}),ft)((function(e){var t=e.profiles,a=e.searchOptions,n=e.searchProfiles,r=mt(),o=function(e){n({age:a.age,gender:a.gender,page:"next"===e?a.page+1:a.page-1,limit:a.limit})};return i.a.createElement("div",{className:r.root},i.a.createElement("h1",null,"Search Result"),i.a.createElement("div",{className:r.center},i.a.createElement("div",{className:r.container},t.map((function(e){return i.a.createElement(be.b,{to:"/search/profiles/".concat(e.username),key:e.id},i.a.createElement(dt,{username:e.username,image:e.image.imageUrl}))})))),t.length>0&&i.a.createElement("div",{className:r.pagination},i.a.createElement(b.a,{disabled:1===a.page,onClick:function(){return o("prev")}},"< ","prev page"),i.a.createElement(b.a,{disabled:a.page*a.limit>=a.profileCount,onClick:function(){return o("next")}},"next page"," >")))})),ht=Object(Y.a)("div")({width:"400px",backgroundColor:"rgba(0,0,0,0.8)",color:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"16px",borderRadius:"5px",position:"fixed",zIndex:50,left:window.innerWidth/2-200,top:window.innerHeight/2-200,fontSize:"17px",boxShadow:"0px 4px 18px 7px rgba(0,0,0,0.75)",cursor:"pointer"}),gt=function(e){return i.a.createElement(ht,{onClick:function(){return e.showImage(!1)}},i.a.createElement("img",{src:e.imageUrl,alt:"profile",width:"400"}))},xt=Object(h.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",color:"#bbb"},container:{width:"90%",display:"flex",flexDirection:"row"},image:{borderRadius:"5px",boxShadow:"10px 10px 5px 0px rgba(0,0,0,0.75)",cursor:"pointer"},text:{marginLeft:"20px",marginRight:"20px"}}),Et=Object(S.b)((function(e,t){var a=t.match;return{profile:e.profiles.find((function(e){return e.username===a.params.username}))}}))(Object(W.f)((function(e){e.match;var t=e.profile,a=i.a.useState(!1),n=Object($.a)(a,2),r=n[0],o=n[1],c=xt();return t?i.a.createElement("div",{className:c.root},i.a.createElement("h1",null,t.username),i.a.createElement("div",{className:c.container},i.a.createElement("img",{src:t.image.imageUrl,alt:"".concat(t.username),width:"150",className:c.image,onClick:function(){return o(!0)}}),i.a.createElement("p",{className:c.text},t.profileText)),r&&i.a.createElement(gt,{imageUrl:t.image.imageUrl,showImage:o})):i.a.createElement("div",null)}))),vt=a(121),Ot=a.n(vt),yt=Object(h.a)({root:{marginLeft:"10%"},navLink:{color:"#999",textDecoration:"none",display:"flex",flexDirection:"row",alignItems:"center"},active:{color:"white"},icon:{paddingRight:"5px"}}),wt=function(e){var t=yt();return i.a.createElement("div",{className:t.root},i.a.createElement("p",null,i.a.createElement(be.c,{to:"/profile/inbox/".concat(e.match.params.id,"/reply"),exact:!0,className:t.navLink,activeClassName:t.active},i.a.createElement(Ot.a,{className:t.icon}),"Reply")))},kt=a(67),jt=a.n(kt),Ct=Object(Y.a)("div")({width:"300px",backgroundColor:"#1769aa",color:"#fff",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",padding:"16px",borderRadius:"5px",position:"fixed",zIndex:50,left:"50%",top:"50%",fontSize:"17px",boxShadow:"0px 4px 18px 7px rgba(0,0,0,0.75)"}),Nt=Object(S.b)(null,{addProfileImage:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().user.token,P.saveToken(r),t.next=4,P.addProfileImage(e);case 4:o=t.sent,a({type:"ADD_PROFILE_PICTURE",image:o});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){return i.a.createElement(Ct,null,i.a.createElement("div",{style:{width:"100%",textAlign:"right",cursor:"pointer"}},i.a.createElement(jt.a,{fontSize:"small",onClick:function(){return e.setShowFileUpload(!1)}})),i.a.createElement(b.a,{color:"primary",variant:"contained",component:"label"},"Upload File",i.a.createElement("input",{type:"file",accept:"image/*",style:{display:"none"},onChange:function(t){e.addProfileImage(t.target.files[0]),e.setShowFileUpload(!1)}})),i.a.createElement("p",{style:{fontSize:"0.7em",color:"#ccc"}},"max width/height: 500px (jpg/png)"))})),It=a(123),Tt=a.n(It),St=a(122),Dt=a.n(St),Lt=a(124),At=a.n(Lt),Pt=Object(h.a)({root:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",color:"#999"},navLink:{color:"#999",textDecoration:"none",cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center"},active:{color:"white"},icon:{paddingRight:"5px"}}),Rt=function(e){var t=i.a.useState(!1),a=Object($.a)(t,2),n=a[0],r=a[1],o=Pt();return i.a.createElement("div",{className:o.root},i.a.createElement("p",null,i.a.createElement(be.c,{to:"/profile/edit",exact:!0,className:o.navLink,activeClassName:o.active},i.a.createElement(Dt.a,{className:o.icon}),"Edit Profile Text")),i.a.createElement("p",{className:o.navLink,onClick:function(){return r(!n)}},i.a.createElement(Tt.a,{className:o.icon}),"Add Image"),i.a.createElement("p",null,i.a.createElement(be.c,{className:o.navLink,to:"/settings"},i.a.createElement(At.a,{className:o.icon}),"Settings")),n&&i.a.createElement(Nt,{setShowFileUpload:r}))},Ft=a(126),_t=a.n(Ft),Ut=a(125),Bt=a.n(Ut),Wt=a(79),zt=a.n(Wt),Mt=Object(h.a)({root:{width:"100%",display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center",color:"#999"},navLink:{color:"#999",textDecoration:"none",cursor:"pointer",display:"flex",flexDirection:"row",alignItems:"center"},active:{color:"white"},icon:{paddingRight:"5px"}}),Ht=Object(S.b)((function(e,t){return{username:e.user.username,blocked:e.user.blocked.includes(t.match.params.username),blockedBy:e.user.blockedBy.includes(t.match.params.username),session:e.chat.sessions[t.match.params.username],isFavorite:e.user.favorites.find((function(e){return e.username===t.match.params.username})),profile:e.profiles.find((function(e){return e.username===t.match.params.username}))}}),{createChatSession:M,openChat:z,addToFavorites:B,blockUser:function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var o,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r().user.token,P.saveToken(o),a.next=4,P.blockUser(e,t);case 4:c=a.sent,n({type:t?"BLOCK_USER":"UNBLOCK_USER",userToBlock:c});case 7:case"end":return a.stop()}}),a)})));return function(e,t){return a.apply(this,arguments)}}()}})((function(e){var t=Mt();return e.blockedBy?null:i.a.createElement("div",{className:t.root},i.a.createElement("p",null,i.a.createElement(be.c,{to:"/search/profiles/".concat(e.match.params.username,"/send"),exact:!0,className:t.navLink,activeClassName:t.active},i.a.createElement(Ke.a,{className:t.icon}),"Send Mail")),i.a.createElement("p",{className:t.navLink,onClick:function(){e.profile.chatEnabled&&(e.session?e.openChat():e.createChatSession(e.match.params.username,!0))}},i.a.createElement(qe.a,{className:t.icon,style:{color:e.profile.chatEnabled?"green":""}})," Chat"),i.a.createElement("p",null,e.isFavorite?i.a.createElement("span",{className:t.navLink,onClick:function(){return e.addToFavorites(e.match.params.username,"remove")}},i.a.createElement(Bt.a,{className:t.icon,style:{color:"yellow"}}),"Favorited"):i.a.createElement("span",{className:t.navLink,onClick:function(){return e.addToFavorites(e.match.params.username,"add")}},i.a.createElement(_t.a,{className:t.icon}),"Favorite")),i.a.createElement("p",null,e.blocked?i.a.createElement("span",{className:t.navLink,onClick:function(){return e.blockUser(e.match.params.username,!1)}},i.a.createElement(zt.a,{className:t.icon,style:{color:"red"}}),"Blocked"):i.a.createElement("span",{className:t.navLink,onClick:function(){return e.blockUser(e.match.params.username,!0)}},i.a.createElement(zt.a,{className:t.icon}),"Block")))})),Gt=Object(h.a)({root:{width:"100%",height:"10%",backgroundColor:y,background:"linear-gradient(90deg, rgba(2, 0, 36, 1) 0 %, rgba(0, 0, 0, 1) 35 %, rgba(0, 212, 255, 1) 100 %)",display:"flex",flexDirection:"row",justifyContent:"flex-start",alignItems:"center",color:"#999",boxShadow:"-1px 5px 18px 0px rgba(255,255,255,0.7)"}}),Vt=function(e){var t=Gt();return i.a.createElement("div",{className:t.root},i.a.createElement(W.b,{exact:!0,path:"/profile/inbox/:id",component:wt}),i.a.createElement(W.b,{exact:!0,path:"/profile/edit",component:Rt}),i.a.createElement(W.b,{exact:!0,path:"/profile",component:Rt}),i.a.createElement(W.b,{exact:!0,path:"/settings",component:Rt}),i.a.createElement(W.b,{path:"/search/profiles/:username",component:Ht}))},$t=Object(h.a)({root:{height:"90%",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"flex-start",color:"#bbb"},container:{width:"90%",height:"70%",display:"flex",flexDirection:"row",alignItems:"flex-start",padding:"20px"},image:{borderRadius:"5px",boxShadow:"10px 10px 5px 0px rgba(0,0,0,0.75)",cursor:"pointer"},text:{width:"90%",height:"90%",marginLeft:"20px",marginRight:"20px"},noText:{width:"90%",height:"80%",display:"flex",justifyContent:"center",alignItems:"center"}}),Yt=Object(S.b)((function(e){return{profile:e.user.profile}}))(Object(W.f)((function(e){var t=e.profile,a=i.a.useState(!1),n=Object($.a)(a,2),r=n[0],o=n[1],c=$t();return t?i.a.createElement("div",{className:c.root},i.a.createElement("h1",null,t.username),i.a.createElement("div",{className:c.container},i.a.createElement("img",{src:t.image.imageUrl,alt:"".concat(t.username),width:"150",className:c.image,onClick:function(){return o(!0)}}),i.a.createElement("div",{className:c.text},t.profileText?t.profileText:i.a.createElement("div",{className:c.noText},"No profile text added yet"))),r&&i.a.createElement(gt,{imageUrl:t.image.imageUrl,showImage:o})):i.a.createElement("div",null)}))),Kt=a(211),Xt=a(257),qt=a(260),Jt=a(256),Qt=a(258),Zt=a(259),ea=a(70),ta=a.n(ea),aa=a(68),na=a.n(aa),ra=Object(Kt.a)({head:{backgroundColor:"rgba(0, 0, 0, 0.2)",color:"white",borderWidth:0},body:{fontSize:14,backgroundColor:"rgba(0, 0, 0, 0.2)",color:"white",borderWidth:0}})(Jt.a),oa=Object(h.a)({container:{width:"100%",height:"80%",color:"#bbb",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},root:{width:"70%",overflowX:"auto",background:"rgba(0, 0, 0, 0.2)"},table:{width:"100%"}}),ca=Object(S.b)((function(e){return{inbox:e.mail.inbox}}),{deleteMail:_,mailRead:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:a({type:"MAIL_READ"}),r=n().user.token,R.saveToken(r),R.setMailRead(e);case 4:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.inbox,a=e.deleteMail,n=e.mailRead,r=oa();return 0===t.length?i.a.createElement("div",{className:r.container},i.a.createElement("h1",null,"Inbox is Empty")):i.a.createElement("div",{className:r.container},i.a.createElement("h1",null,"Inbox"),i.a.createElement(p.a,{className:r.root},i.a.createElement(Xt.a,{className:r.table,"aria-label":"simple table"},i.a.createElement(Qt.a,null,i.a.createElement(Zt.a,null,i.a.createElement(ra,null,"Title"),i.a.createElement(ra,{align:"left"},"Author"),i.a.createElement(ra,{align:"left"},"Date"),i.a.createElement(ra,{align:"left"},"Delete"))),i.a.createElement(qt.a,null,t&&t.map((function(e){return i.a.createElement(Zt.a,{key:e.id},i.a.createElement(ra,{component:"th",scope:"row"},i.a.createElement(be.b,{to:"/profile/inbox/".concat(e.id),onClick:function(){e.read||n(e.id)}},e.title)),i.a.createElement(ra,{align:"left"},e.author),i.a.createElement(ra,{align:"left"},na()(e.createdAt).format("LLL")),i.a.createElement(ra,{align:"left"},i.a.createElement(ta.a,{style:{cursor:"pointer"},onClick:function(){return a(e.id,"inbox")}})))}))))))})),ia=Object(Kt.a)({head:{backgroundColor:"rgba(0, 0, 0, 0.2)",color:"white",borderWidth:0},body:{fontSize:14,backgroundColor:"rgba(0, 0, 0, 0.2)",color:"white",borderWidth:0}})(Jt.a),sa=Object(h.a)({container:{width:"100%",height:"80%",color:"#bbb",textAlign:"center",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},root:{width:"70%",overflowX:"auto",background:"rgba(0, 0, 0, 0.2)"},table:{width:"100%"}}),la=Object(S.b)((function(e){return{sent:e.mail.sent}}),{deleteMail:_})((function(e){var t=e.sent,a=e.deleteMail,n=sa();return 0===t.length?i.a.createElement("div",{className:n.container},i.a.createElement("h1",null,"No Sent Mail")):i.a.createElement("div",{className:n.container},i.a.createElement("h1",null,"Sent Mail"),i.a.createElement(p.a,{className:n.root},i.a.createElement(Xt.a,{className:n.table,"aria-label":"simple table"},i.a.createElement(Qt.a,null,i.a.createElement(Zt.a,null,i.a.createElement(ia,null,"Title"),i.a.createElement(ia,{align:"left"},"Author"),i.a.createElement(ia,{align:"left"},"Date"),i.a.createElement(ia,{align:"left"},"Delete"))),i.a.createElement(qt.a,null,t&&t.map((function(e){return i.a.createElement(Zt.a,{key:e.id},i.a.createElement(ia,{component:"th",scope:"row"},i.a.createElement(be.b,{to:"/profile/sent/".concat(e.id)},e.title)),i.a.createElement(ia,{align:"left"},e.author),i.a.createElement(ia,{align:"left"},na()(e.createdAt).format("LLL")),i.a.createElement(ia,{align:"left"},i.a.createElement(ta.a,{style:{cursor:"pointer"},onClick:function(){return a(e.id,"sent")}})))}))))))})),ua=Object(h.a)({root:{color:"#bbb",textAlign:"center",widht:"100%",height:"90%",display:"flex",flexDirection:"column",justifyContent:"flex-start",alignItems:"center"},container:{background:"rgba(0, 0, 0, 0.4)",width:"80%",minHeight:"40%",borderRadius:"5px",textAlign:"left",padding:"20px"}}),pa=Object(S.b)((function(e,t){var a=t.match;return a.path.includes("inbox")?{mail:e.mail.inbox.find((function(e){return e.id===a.params.id}))}:{mail:e.mail.sent.find((function(e){return e.id===a.params.id}))}}))((function(e){var t=e.mail,a=ua();return t?i.a.createElement("div",{className:a.root},i.a.createElement("h1",null,t.title),i.a.createElement("div",{className:a.container},t.content)):i.a.createElement("div",null)})),da=Object(h.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",color:"#bbb"},textField:{width:"80%",background:"rgba(0, 0, 0, 0.5)"},cssLabel:{color:k},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"".concat(N," !important")},color:"white"},cssFocused:{color:"".concat(j," !important")},icon:{backgroundColor:"inherit"},notchedOutline:{borderWidth:"1px",borderColor:"".concat(C," !important")},buttonContainer:{width:"80%",display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{marginTop:"10px",marginRight:"30px",width:"100px"}}),ma=Object(S.b)((function(e,t){return{mail:e.mail.inbox.find((function(e){return e.id===t.match.params.id})),blockedBy:e.user.blockedBy}}),{reply:function(e,t){return function(){var a=Object(f.a)(m.a.mark((function a(n,r){var o,c;return m.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return o=r().user.token,R.saveToken(o),a.prev=2,a.next=5,R.reply({messageId:e,content:t});case 5:c=a.sent,console.log("WTF"),n({type:"REPLY",mail:c}),a.next=13;break;case 10:a.prev=10,a.t0=a.catch(2),n(F("Unable to send mail"));case 13:case"end":return a.stop()}}),a,null,[[2,10]])})));return function(e,t){return a.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.history,n=e.reply,r=e.mail,o=e.blockedBy,c=X("text"),s=Object($.a)(c,2),l=s[0],u=s[1],p=da();return r?i.a.createElement("div",{className:p.root},i.a.createElement("h1",null,"Reply to: ",r.author," "),i.a.createElement(he.a,Object.assign({id:"outlined-multiline-static",label:"Reply"},l,{multiline:!0,rows:"7",className:p.textField,margin:"normal",variant:"outlined",InputLabelProps:{classes:{root:p.cssLabel,focused:p.cssFocused}},InputProps:{classes:{root:p.cssOutlinedInput,focused:p.cssFocused,notchedOutline:p.notchedOutline}}})),i.a.createElement("div",{className:p.buttonContainer},i.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:function(){a.goBack()},className:p.button},"Cancel"),i.a.createElement(b.a,{disabled:o.includes(r.author),variant:"contained",color:"primary",onClick:function(){n(t.params.id,l.value),u(),a.push("/profile")},className:p.button},"Send"))):i.a.createElement("div",null)})),fa=Object(h.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",color:"#bbb"},textField:{width:"80%",background:"rgba(0, 0, 0, 0.5)"},cssLabel:{color:k},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"".concat(N," !important")},color:"white"},cssFocused:{color:"".concat(j," !important")},icon:{backgroundColor:"inherit"},notchedOutline:{borderWidth:"1px",borderColor:"".concat(C," !important")},buttonContainer:{width:"80%",display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{marginTop:"10px",marginRight:"30px",width:"100px"}}),ba=Object(S.b)((function(e){return{oldText:e.user.profile.profileText}}),{editProfileText:function(e){return function(){var t=Object(f.a)(m.a.mark((function t(a,n){var r,o;return m.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=n().user.token,P.saveToken(r),t.next=4,P.edit({profileText:e});case 4:o=t.sent,a({type:"EDIT_PROFILE_TEXT",profile:o});case 6:case"end":return t.stop()}}),t)})));return function(e,a){return t.apply(this,arguments)}}()}})((function(e){var t=e.history,a=e.editProfileText,n=e.oldText,r=X("text",void 0,n),o=Object($.a)(r,2),c=o[0],s=o[1],l=fa();return n?i.a.createElement("div",{className:l.root},i.a.createElement("h1",null,"Edit profile text"),i.a.createElement(he.a,Object.assign({id:"outlined-multiline-static",label:"Edit"},c,{multiline:!0,rows:"7",className:l.textField,margin:"normal",variant:"outlined",InputLabelProps:{classes:{root:l.cssLabel,focused:l.cssFocused}},InputProps:{classes:{root:l.cssOutlinedInput,focused:l.cssFocused,notchedOutline:l.notchedOutline}}})),i.a.createElement("div",{className:l.buttonContainer},i.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:function(){t.push("/profile")},className:l.button},"Cancel"),i.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){a(c.value),s(),t.push("/profile")},className:l.button},"Send"))):i.a.createElement("div",null)})),ha=Object(h.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",color:"#bbb"},textField:{width:"80%",background:"rgba(0, 0, 0, 0.5)"},cssLabel:{color:k},cssOutlinedInput:{"&$cssFocused $notchedOutline":{borderColor:"".concat(N," !important")},color:"white"},cssFocused:{color:"".concat(j," !important")},icon:{backgroundColor:"inherit"},notchedOutline:{borderWidth:"1px",borderColor:"".concat(C," !important")},buttonContainer:{width:"80%",display:"flex",flexDirection:"row",justifyContent:"flex-end"},button:{marginTop:"10px",marginRight:"30px",width:"100px"}}),ga=Object(S.b)(null,{sendMail:function(e,t,a){return function(){var n=Object(f.a)(m.a.mark((function n(r,o){var c,i;return m.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c=o().user.token,R.saveToken(c),n.next=4,R.sendMail({username:e,title:t,content:a});case 4:i=n.sent,r({type:"SEND_MAIL",mail:i});case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()}})((function(e){var t=e.match,a=e.history,n=e.sendMail,r=X("text"),o=Object($.a)(r,2),c=o[0],s=o[1],l=X("text"),u=Object($.a)(l,2),p=u[0],d=u[1],m=ha();return i.a.createElement("div",{className:m.root},i.a.createElement("h1",null,"Send Mail To: ",t.params.username," "),i.a.createElement(he.a,Object.assign({},p,{className:m.textField,label:"Title",margin:"normal",fullWidth:!0,variant:"outlined",InputLabelProps:{classes:{root:m.cssLabel,focused:m.cssFocused}},InputProps:{classes:{root:m.cssOutlinedInput,focused:m.cssFocused,notchedOutline:m.notchedOutline}}})),i.a.createElement(he.a,Object.assign({id:"outlined-multiline-static",label:"Reply"},c,{multiline:!0,rows:"7",className:m.textField,margin:"normal",variant:"outlined",InputLabelProps:{classes:{root:m.cssLabel,focused:m.cssFocused}},InputProps:{classes:{root:m.cssOutlinedInput,focused:m.cssFocused,notchedOutline:m.notchedOutline}}})),i.a.createElement("div",{className:m.buttonContainer},i.a.createElement(b.a,{variant:"outlined",color:"primary",onClick:function(){a.goBack()},className:m.button},"Cancel"),i.a.createElement(b.a,{variant:"contained",color:"primary",onClick:function(){n(t.params.username,p.value,c.value),s(),d(),a.push("/profile")},className:m.button},"Send")))})),xa=Object(h.a)({root:{width:"100%",height:"100%",color:"#bbb",paddingTop:"15px",textAlign:"center"},center:{display:"flex",width:"100%",flexDirection:"column",alignItems:"center"},container:{width:"80%",display:"grid",gridTemplateColumns:"auto auto auto auto auto auto",gridRowGap:"20px",alignContent:"space-evenly"},pagination:{margin:"30px auto",width:"30%",display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"baseline",fontSize:"1.3em"}}),Ea=Object(S.b)((function(e){return{profiles:e.user.favorites}}))((function(e){var t=e.profiles,a=xa();return i.a.createElement("div",{className:a.root},i.a.createElement("h1",null,t.length>0?"Your Favorites":"No favorites chosen yet"),i.a.createElement("div",{className:a.center},i.a.createElement("div",{className:a.container},t.map((function(e){return i.a.createElement(be.b,{to:"/search/profiles/".concat(e.username),key:e.id},i.a.createElement(dt,{username:e.username,image:e.image.imageUrl}))})))),t.length>0&&i.a.createElement("div",{className:a.pagination},i.a.createElement(b.a,{disabled:!0,onClick:function(){}},"< ","prev page"),i.a.createElement(b.a,{disabled:!0,onClick:function(){}},"next page"," >")))})),va=Object(h.a)({root:{width:"80%",height:"40%",margin:"0 auto",paddingTop:"8%",color:"#bbb"},buttonContainer:{width:"80%",paddingTop:"3%",display:"flex",flexDirection:"row",justifyContent:"space-around",alignItems:"center"},headersAndImage:{display:"flex",flexDirection:"row",justifyContent:"space-around"}}),Oa=Object(S.b)((function(e){return{token:e.user.token}}),{logout:U})((function(e){var t=e.logout,a=e.history,n=e.token,r=va(),o=function(){var e=Object(f.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return P.saveToken(n),e.next=3,P.eraseUser();case 3:a.push("/"),t();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return i.a.createElement("div",{className:r.root},i.a.createElement("div",{className:r.headersAndImage},i.a.createElement("div",{className:r.headerContainer},i.a.createElement("h1",null,"Sad to see you go!"),i.a.createElement("h2",null,"Are you certain you want to leave us?")),i.a.createElement("img",{src:"./assets/images/tear1.png",width:"120",alt:"cry"})),i.a.createElement("div",{className:r.buttonContainer},i.a.createElement(b.a,{color:"secondary",variant:"contained",onClick:o},"Erase Profile"),i.a.createElement(b.a,{color:"primary",variant:"outlined",onClick:function(){return a.push("/profile")}},"Cancel")))})),ya=Object(h.a)({root:{width:"74%",height:"90%",marginRight:"1%",background:O,border:"2px solid #bbb",overflow:"hidden"},welcome:{width:"100%",height:"100%",backgroundImage:"url('/assets/images/tausta4.jpg')",backgroundSize:"cover"}}),wa=function(e){var t=ya();return i.a.createElement("div",{className:t.welcome})},ka=Object(W.f)((function(e){var t=e.location,a=ya();return i.a.createElement(p.a,{className:a.root,elevation:5},"/"!==t.pathname&&i.a.createElement(Vt,null),i.a.createElement(W.b,{exact:!0,path:"/search/profiles/:username/send",component:ga}),i.a.createElement(W.b,{exact:!0,path:"/search/profiles/:username",component:Et}),i.a.createElement(W.b,{exact:!0,path:"/search/profiles",render:function(){return i.a.createElement(bt,null)}}),i.a.createElement(W.b,{exact:!0,path:"/search",component:Ea}),i.a.createElement(W.b,{exact:!0,path:"/erase",component:Oa}),i.a.createElement(W.b,{exact:!0,path:"/profile/inbox/:id/reply",component:ma}),i.a.createElement(W.b,{exact:!0,path:"/profile/inbox/:id",component:pa}),i.a.createElement(W.b,{exact:!0,path:"/profile/inbox",component:ca}),i.a.createElement(W.b,{exact:!0,path:"/profile/sent/:id",component:pa}),i.a.createElement(W.b,{exact:!0,path:"/profile/sent",component:la}),i.a.createElement(W.b,{exact:!0,path:"/profile/edit",component:ba}),i.a.createElement(W.b,{exact:!0,path:"/profile",component:Yt}),i.a.createElement(W.b,{exact:!0,path:"/settings",component:Yt}),i.a.createElement(W.b,{exact:!0,path:"/",component:wa}))})),ja=Object(h.a)({contentContainer:{width:"100%",height:"88%",display:"flex",alignItems:"flex-start"}}),Ca=function(e){var t=ja();return i.a.createElement("div",{className:t.contentContainer},i.a.createElement(it,null),i.a.createElement(ka,null))},Na=a(263),Ia=a(252),Ta=Object(u.a)({close:{padding:"10px"}}),Sa={setNotification:F},Da=Object(S.b)((function(e){return{message:e.notification}}),Sa)((function(e){var t=e.message,a=e.setNotification,n=Ta(),r=i.a.useState(!1),o=Object($.a)(r,2),s=o[0],l=o[1];Object(c.useEffect)((function(){t&&l(!0)}),[t]);var u=function(e,t){"clickaway"!==t&&(l(!1),a(""))};return i.a.createElement("div",null,i.a.createElement(Na.a,{anchorOrigin:{vertical:"top",horizontal:"left"},open:s,autoHideDuration:6e3,onClose:u,ContentProps:{"aria-describedby":"message-id"},message:i.a.createElement("span",{id:"message-id"},t),action:[i.a.createElement(Ia.a,{key:"close","aria-label":"close",color:"inherit",className:n.close,onClick:u},i.a.createElement(jt.a,null))]}))})),La=Object(u.a)({root:{width:"100%",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",backgroundImage:"url('/assets/images/33.jpg')",margin:0,padding:0,color:w,fontFamily:"Forum, cursive"},container:{width:"95%",height:"90%",background:g,margin:0,padding:0},contentContainer:{width:"100%",height:"100%",display:"flex",alignItems:"flex-start"}});var Aa=function(e){var t=La();return i.a.createElement("div",{className:t.root},i.a.createElement(p.a,{className:t.container,elevation:8},i.a.createElement(be.a,null,i.a.createElement(fe,null),i.a.createElement(W.b,{path:"/",render:function(e){return i.a.createElement(Ca,e)}})),i.a.createElement(Da,null)))},Pa=a(35);function Ra(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Fa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ra(a,!0).forEach((function(t){Object(Se.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ra(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _a={loggedIn:!1},Ua=[];function Ba(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Wa(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ba(a,!0).forEach((function(t){Object(Se.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ba(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var za={age:[],gender:"",page:1,limit:12,profileCount:0};function Ma(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ha(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ma(a,!0).forEach((function(t){Object(Se.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ma(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Ga={inbox:[],sent:[],countOfUnread:0},Va=a(131);function $a(e){var t=function(e,t){if("object"!==typeof e||null===e)return e;var a=e[Symbol.toPrimitive];if(void 0!==a){var n=a.call(e,t||"default");if("object"!==typeof n)return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"===typeof t?t:String(t)}function Ya(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function Ka(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ya(a,!0).forEach((function(t){Object(Se.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ya(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var Xa={sessions:{},chatWith:"",chatOpen:!1,maxWindow:!1},qa=a(80),Ja=a(127),Qa=a.n(Ja),Za=a(128),en={key:"root",storage:Qa.a,whitelist:["user","profiles","search","mail","notification","chat"]},tn=Object(Pa.c)({user:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_a,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNUP":return Fa({},e,{},t.userData);case"LOGIN":return Fa({loggedIn:!0},t.userData);case"LOGOUT":case"RESET":return _a;case"EDIT_PROFILE_TEXT":return Fa({},e,{profile:t.profile});case"ADD_PROFILE_PICTURE":return Fa({},e,{profile:Fa({},e.profile,{image:t.image})});case"ADD_TO_FAVORITES":return Fa({},e,{favorites:e.favorites.concat(t.profile)});case"BLOCK_USER":return Fa({},e,{blocked:e.blocked.concat(t.userToBlock)});case"UNBLOCK_USER":return Fa({},e,{blocked:e.blocked.filter((function(e){return e!==t.userToBlock}))});case"BEING_BLOCKED":return Fa({},e,{blockedBy:e.blockedBy.concat(t.userWhoBlocked)});case"BEING_UNBLOCKED":return Fa({},e,{blockedBy:e.blockedBy.filter((function(e){return e!==t.userWhoBlocked}))});case"REMOVE_FROM_FAVORITES":return Fa({},e,{favorites:e.favorites.filter((function(e){return e.username!==t.profile.username}))});case"TOGGLE_CHAT_ENABLED":return Fa({},e,{profile:Fa({},e.profile,{chatEnabled:t.enable})});case"TOGGLE_PROFILE_VISIBLE":return Fa({},e,{profile:Fa({},e.profile,{visible:t.visible})});default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ua,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_FAVORITES":case"SEARCH_PROFILES":return t.profiles;case"RESET":return Ua;default:return e}},search:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:za,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SEARCH":return Wa({},e,{},t.data);case"RESET":return za;default:return e}},mail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ga,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_INBOX":return Ha({},e,{inbox:t.inbox});case"FETCH_SENT":return Ha({},e,{sent:t.sent});case"REPLY":case"SEND_MAIL":return Ha({},e,{sent:e.sent.concat(t.mail)});case"RESET":return Ga;case"DELETE_MAIL":return Ha({},e,Object(Se.a)({},t.source,e[t.source].filter((function(e){return e.id!==t.id}))));case"SET_UNREAD_MAIL_COUNT":return Ha({},e,{countOfUnread:t.count});case"MAIL_READ":return Ha({},e,{countOfUnread:e.countOfUnread-1});case"MAIL_UNREAD":return Ha({},e,{countOfUnread:e.countOfUnread+1});default:return e}},notification:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_NOTIFICATION":return t.message;case"RESET":return"";default:return e}},chat:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xa,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"OPEN_CHAT":return Ka({},e,{chatOpen:!0});case"CLOSE_CHAT":return Ka({},e,{chatOpen:!1});case"TOGGLE_CHAT":return Ka({},e,{chatOpen:!e.chatOpen});case"ADD_CHAT_MESSAGE":return Ka({},e,{sessions:Ka({},e.sessions,Object(Se.a)({},t.id,Ka({},e.sessions[t.id],{messages:e.sessions[t.id].messages.concat(t.message)})))});case"RECEIVE_CHAT_MESSAGE":return Ka({},e,{chatOpen:!0,sessions:Ka({},e.sessions,Object(Se.a)({},t.id,Ka({},e.sessions[t.id],{messages:e.sessions[t.id].messages.concat(t.message)})))});case"CREATE_CHAT_SESSION":return Ka({},e,{chatOpen:!0,chatWith:t.setChatWith||0===Object.keys(e.sessions).length?t.id:e.chatWith,sessions:Ka({},e.sessions,Object(Se.a)({},t.id,t.session))});case"DESTROY_SESSION":var a=e.sessions,n=t.sessionId,r=(a[n],Object(Va.a)(a,[n].map($a))),o=Object.keys(r);return 0===o.length?Xa:Ka({},e,{chatWith:o[0],sessions:r});case"SET_CHAT_WITH":return Ka({},e,{maxWindow:!0,chatWith:t.chatWith});case"SET_MAX_WINDOW":return Ka({},e,{maxWindow:t.onOff});case"SET_DOT":return Ka({},e,{sessions:Ka({},e.sessions,Object(Se.a)({},t.id,Ka({},e.sessions[t.id],{dot:t.onOff})))});case"RESET_CHAT":case"RESET":return Xa;default:return e}}}),an=Object(Pa.d)(Object(qa.a)(en,tn),Object(Pa.a)(Za.a)),nn=Object(qa.b)(an),rn=a(129),on=a(130),cn=a.n(on);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(209);a.d(t,"socket",(function(){return sn}));var sn=cn()("http://localhost:3001");l.a.render(i.a.createElement(S.a,{store:an},i.a.createElement(rn.a,{persistor:nn},i.a.createElement(Aa,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[147,1,2]]]);
//# sourceMappingURL=main.a8cbfe13.chunk.js.map