{"version":3,"sources":["services/user.js","services/mail.js","services/profiles.js","theme/theme.js","actions/notification.js","actions/mail.js","actions/user.js","actions/chat.js","hooks/useField.js","components/ContentArea/chat/Chat.js","components/ContentArea/chat/ChatButtons.js","components/Navigation/Navigation.js","components/Sidebar/Login.js","components/Sidebar/Signup.js","components/Sidebar/LoginAndSignup.js","actions/search.js","actions/profiles.js","components/Sidebar/Search.js","components/Sidebar/Navigation.js","components/Sidebar/OwnProfileStats.js","components/Sidebar/ProfileStats.js","components/Sidebar/Settings.js","components/Sidebar/Sidebar.js","components/ContentArea/ProfileThumbnail.js","components/ContentArea/Profiles.js","components/ContentArea/ProfilePicture.js","components/ContentArea/Profile.js","components/ContentArea/ReplyMailNavigation.js","components/ContentArea/FileUpload.js","components/ContentArea/EditNavigationContent.js","components/ContentArea/SendMailNavigation.js","components/ContentArea/Navigation.js","components/ContentArea/OwnProfile.js","components/ContentArea/Inbox.js","components/ContentArea/SentMail.js","components/ContentArea/MailContent.js","components/ContentArea/ReplyMailForm.js","components/ContentArea/EditProfile.js","components/ContentArea/SendMailForm.js","components/ContentArea/Favorites.js","components/ContentArea/EraseProfile.js","components/ContentArea/ContentArea.js","components/MainPage.js","components/NotificationSnackbar/Notification.js","App.js","reducers/user.js","reducers/profiles.js","reducers/search.js","reducers/mail.js","reducers/chat.js","store/store.js","reducers/notification.js","serviceWorker.js","index.js"],"names":["token","theme","baseUrl","signup","data","a","axios","post","response","login","edit","profileText","config","headers","Authorization","addProfileImage","file","FormData","append","name","_boundary","addToFavorites","username","operation","blockUser","userToBlock","block","toggleChatEnabled","enable","toggleProfileVisible","visible","saveToken","tokenToSave","eraseUser","reasonToLeave","fetchInbox","get","fetchSent","reply","sendMail","deleteMail","id","source","setUnreadMailCount","setMailRead","setNotification","message","type","dispatch","getState","user","mailService","console","log","logout","userService","profile","openChat","createChatSession","to","setChatWith","session","messages","dot","destroySession","sessionId","chatWith","setDot","onOff","useField","pattern","defaultValue","useState","value","setValue","onChange","e","test","target","ChatWindowMax","styled","width","height","overflow","color","textAlign","borderTopLeftRadius","borderTopRightRadius","borderBottomRightRadius","borderBottomLeftRadius","position","zIndex","right","bottom","fontSize","boxShadow","backgroundImage","ChatWindowMin","backgroundColor","borderRadius","paddingTop","paddingBottom","display","flexDirection","justifyContent","useStyles","makeStyles","root","navigation","background","alignItems","paddingLeft","body","text","inputContainer","padding","marginTop","input","borderStyle","left","paddingRight","li","maxWidth","marginBottom","button","textField","cssLabel","cssOutlinedInput","borderColor","cssFocused","icon","icons","connect","state","candidates","Object","keys","chat","sessions","maxWindow","sendChatMessage","from","socket","emit","closeChat","setMaxWindow","withRouter","maximized","setMaximized","clearMessage","messagesRef","useRef","classes","useEffect","current","scrollIntoView","behavior","className","style","cursor","onClick","listStyleType","margin","map","index","key","includes","ref","onKeyUp","placeholder","Button","size","Tooltip","link","title","placement","CustomButton","border","transition","styles","buttonContainer","marginLeft","buttonStyles","Badge","badgeContent","variant","anchorOrigin","horizontal","vertical","length","substring","loggedInContainer","marginRight","loggedIn","iconAndText","mapDispatchToProps","receiveChatMessage","mailUnread","beingBlocked","userWhoBlocked","chatOpen","props","history","on","receiver","mail","author","reason","handleLogout","push","Paper","elevation","src","alt","container","header","notchedOutline","borderWidth","register","credentials","userData","result","count","resetUsername","password","resetPassword","handleSubmit","preventDefault","readOnly","autoComplete","TextField","label","fullWidth","required","InputLabelProps","focused","InputProps","toggleRegister","genders","gender","resetGender","age","resetAge","confirmPassword","resetConfirmPassword","inputValid","signupService","select","option","MenuItem","LoginAndSignup","isLoginPage","setIsLoginPage","searchProfiles","searchOptions","searchProfile","fetchFavorites","setSearch","profilesService","profileCount","profiles","typography","switchBase","track","checked","paper","valuetext","React","setGender","clearUsername","Typography","gutterBottom","Slider","event","newValue","valueLabelDisplay","aria-labelledby","getAriaValueText","component","Grid","spacing","item","Switch","searchData","page","limit","navLink","textDecoration","active","favorites","favorits","activeClassName","exact","statsContainer","postsContainer","inbox","sent","countOfUnread","match","find","params","fromFavorites","linkContainer","chatEnabled","borderTop","path","ProfileStats","Search","Settings","OwnProfileStats","render","card","cardContent","image","ProfileThumbnail","Card","CardContent","CardActions","center","gridTemplateColumns","gridRowGap","alignContent","pagination","search","handlePageChange","direction","imageUrl","disabled","ImageWindow","window","innerWidth","top","innerHeight","ProfilePicture","showImage","showBigPicture","setShowBigPicture","ReplyMailNavigation","FileWindow","setShowFileUpload","accept","files","MailNavigationContent","showFileUpload","ownProps","blocked","blockedBy","isFavorite","Navigation","EditNavigationContent","SendMailNavigation","noText","StyledTableCell","withStyles","head","TableCell","overflowX","table","mailRead","Table","aria-label","TableHead","TableRow","align","TableBody","scope","read","moment","createdAt","format","widht","minHeight","content","m","messageId","clearText","multiline","rows","goBack","oldText","editProfileText","undefined","clearContent","clearTitle","headersAndImage","handleErase","headerContainer","welcome","backgroundSize","Welcome","location","pathname","SendMailForm","Profile","Favorites","EraseProfile","ReplyMailForm","MailContent","Inbox","SentMail","EditProfile","OwnProfile","contentContainer","MainPage","close","notification","open","setOpen","handleClose","Snackbar","autoHideDuration","onClose","ContentProps","action","IconButton","fontFamily","App","initialState","persistConfig","storage","whitelist","rootReducer","combineReducers","concat","filter","favProfile","otherSessions","store","createStore","persistReducer","applyMiddleware","thunk","persistor","persistStore","Boolean","hostname","openSocket","ReactDOM","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.a8cbfe13.chunk.js","sourcesContent":["import axios from 'axios'\r\n\r\nlet token\r\nconst baseUrl = '/api/user'\r\n\r\nconst saveToken = tokenToSave => {\r\n  token = 'bearer ' + tokenToSave\r\n}\r\n\r\nconst signup = async (data) => {\r\n  const response = await axios.post(`${baseUrl}/signup`, data)\r\n  return response.data\r\n}\r\n\r\nconst login = async (data) => {\r\n  const response = await axios.post(`${baseUrl}/login`, data)\r\n  return response.data\r\n}\r\n\r\nconst edit = async profileText => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/edit`, profileText, config)\r\n  return response.data\r\n\r\n}\r\n\r\nconst addProfileImage = async file => {\r\n\r\n  const data = new FormData()\r\n  data.append('file', file, file.name)\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: token,\r\n      'Content-Type': `multipart/form-data; boundary=${data._boundary}`\r\n    },\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/image`, data, config)\r\n  return response.data\r\n}\r\n\r\nconst addToFavorites = async (username, operation) => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/addToFavorites`, { username, operation }, config)\r\n  return response.data\r\n}\r\n\r\nconst blockUser = async (userToBlock, block) => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/blockUser`, { userToBlock, block }, config)\r\n  return response.data\r\n}\r\n\r\nconst toggleChatEnabled = async enable => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/enableChat`, { enable }, config)\r\n  return response.data\r\n}\r\n\r\n\r\nconst toggleProfileVisible = async visible => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/setVisible`, { visible }, config)\r\n  return response.data\r\n}\r\n\r\nconst eraseUser = async () => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/eraseUser`, {reasonToLeave: ''}, config)\r\n  return response.data\r\n}\r\n\r\n\r\nexport default {\r\n  signup,\r\n  login,\r\n  edit,\r\n  addProfileImage,\r\n  addToFavorites,\r\n  blockUser,\r\n  toggleChatEnabled,\r\n  toggleProfileVisible,\r\n  saveToken,\r\n  eraseUser\r\n}","\r\nimport axios from 'axios'\r\n\r\nlet token\r\nconst baseUrl = '/api/messages'\r\n\r\nconst saveToken = tokenToSave => {\r\n  token = 'bearer ' + tokenToSave\r\n}\r\n\r\nconst fetchInbox = async () => {\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.get(`${baseUrl}/inbox`, config)\r\n  return response.data\r\n}\r\n\r\nconst fetchSent = async () => {\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.get(`${baseUrl}/sent`, config)\r\n  return response.data\r\n}\r\n\r\nconst reply = async data => {\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/reply`, data, config)\r\n  return response.data\r\n}\r\n\r\nconst sendMail = async data => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/send`, data, config)\r\n  return response.data\r\n\r\n}\r\n\r\nconst deleteMail = async (id, source)=> {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n\r\n  const response = await axios.post(`${baseUrl}/delete`, { id, source }, config)\r\n  return response.data\r\n}\r\n\r\nconst setUnreadMailCount = async () => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n\r\n  const response = await axios.get(`${baseUrl}/unread`, config)\r\n  return response.data\r\n}\r\n\r\nconst setMailRead = async id => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n\r\n  const response = await axios.post(`${baseUrl}/read`, { id }, config)\r\n  return response.data\r\n}\r\n\r\n\r\nexport default { fetchInbox, fetchSent, reply, sendMail, deleteMail, setUnreadMailCount, setMailRead, saveToken }","\r\nimport axios from 'axios'\r\n\r\nlet token\r\nconst baseUrl = '/api/profiles'\r\n\r\nconst saveToken = tokenToSave => {\r\n  token = 'bearer ' + tokenToSave\r\n}\r\n\r\nconst searchProfiles = async (searchOptions) => {\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/search`, searchOptions, config)\r\n  return response.data\r\n}\r\n\r\nconst searchProfile = async username => {\r\n\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.post(`${baseUrl}/searchOne`, { username }, config)\r\n  return response.data\r\n}\r\n\r\nconst fetchFavorites = async () => {\r\n  const config = {\r\n    headers: {\r\n      Authorization: token\r\n    }\r\n  }\r\n\r\n  const response = await axios.get(`${baseUrl}/favorites`, config)\r\n  return response.data\r\n}\r\n\r\n\r\nexport default { searchProfiles, searchProfile, fetchFavorites, saveToken }","\r\nexport const theme = {\r\n  bodyBackgound: '#7F00FF',\r\n  background: 'rgba(255, 255, 255, 0.2)',\r\n  navigationBackgound: 'rgba(0, 0, 0, 0.8)',\r\n  sidebarBackground: 'rgba(0, 0, 0, 0.5)',\r\n  searchbarBackground: 'rgba(0, 0, 0, 0.7)',\r\n  contentAreaBackground: 'rgba(0, 0, 0, 0.7)',\r\n  smallNavigationBackground: 'rgba(0, 0, 0, 0.7)',\r\n\r\n  signupHeaderColor: '#bbb',\r\n  inputLabelColor: 'white',\r\n  inputFocusedLabelColor: 'white',\r\n  inputBorderColor: 'white',\r\n  inputFocusedBorderColor: 'white',\r\n  inputTextColor: 'white',\r\n  textFieldBackgroundColor: 'rgba(100, 100, 100, 0.5)'\r\n\r\n}","\r\nexport const setNotification = message => {\r\n  return {\r\n    type: 'SET_NOTIFICATION',\r\n    message\r\n  }\r\n}","import mailService from '../services/mail'\r\nimport { setNotification } from './notification'\r\n\r\nexport const fetchInbox = () => {\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    const { token } = getState().user\r\n\r\n    mailService.saveToken(token)\r\n    const response = await mailService.fetchInbox()\r\n\r\n    dispatch({\r\n      type: 'FETCH_INBOX',\r\n      inbox: response\r\n    })\r\n  }\r\n}\r\n\r\nexport const fetchSent = () => {\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    const { token } = getState().user\r\n\r\n    mailService.saveToken(token)\r\n    const response = await mailService.fetchSent()\r\n\r\n    dispatch({\r\n      type: 'FETCH_SENT',\r\n      sent: response\r\n    })\r\n  }\r\n}\r\n\r\nexport const reply = (messageId, content) => {\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    const { token } = getState().user\r\n    mailService.saveToken(token)\r\n\r\n    try {\r\n      const response = await mailService.reply({ messageId, content })\r\n      console.log('WTF')\r\n\r\n      dispatch({\r\n        type: 'REPLY',\r\n        mail: response\r\n      })\r\n\r\n    } catch (error) {\r\n      dispatch(setNotification('Unable to send mail'))\r\n    }\r\n  }\r\n}\r\n\r\nexport const sendMail = (username, title, content) => {\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    const { token } = getState().user\r\n    mailService.saveToken(token)\r\n    const response = await mailService.sendMail({ username, title, content })\r\n\r\n    dispatch({\r\n      type: 'SEND_MAIL',\r\n      mail: response\r\n    })\r\n  }\r\n}\r\n\r\nexport const deleteMail = (id, source) => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n    mailService.saveToken(token)\r\n\r\n    try {\r\n      await mailService.deleteMail(id, source)\r\n\r\n      dispatch({\r\n        type: 'DELETE_MAIL',\r\n        source,\r\n        id\r\n      })\r\n\r\n    } catch (error) {\r\n      console.log(error)\r\n    }\r\n\r\n  }\r\n}\r\n\r\nexport const setUnreadMailCount = () => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n    mailService.saveToken(token)\r\n\r\n    const result = await mailService.setUnreadMailCount()\r\n\r\n    dispatch({\r\n      type: 'SET_UNREAD_MAIL_COUNT',\r\n      count: result.count\r\n    })\r\n\r\n  }\r\n}\r\n\r\nexport const mailRead = id => {\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    dispatch({ type: 'MAIL_READ' })\r\n\r\n    const { token } = getState().user\r\n    mailService.saveToken(token)\r\n\r\n    mailService.setMailRead(id)\r\n  }\r\n}\r\n\r\nexport const mailUnread = () => ({\r\n  type: 'MAIL_UNREAD'\r\n})","\r\nimport userService from '../services/user'\r\nimport { setUnreadMailCount } from './mail'\r\nimport { setNotification } from './notification'\r\n\r\nexport const signup = userData => {\r\n  return {\r\n    type: 'SIGNUP',\r\n    userData\r\n  }\r\n}\r\n\r\nexport const login = credentials => {\r\n  return async dispatch => {\r\n\r\n    try {\r\n      const response = await userService.login(credentials)\r\n\r\n      await dispatch({\r\n        type: 'LOGIN',\r\n        userData: response\r\n      })\r\n\r\n      dispatch(setUnreadMailCount())\r\n\r\n    } catch (error) {\r\n      dispatch(setNotification('Wrong username or password'))\r\n    }\r\n  }\r\n}\r\n\r\nexport const logout = () => {\r\n  \r\n  return {\r\n    type: 'RESET'\r\n  }\r\n}\r\n\r\nexport const editProfileText = profileText => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n    userService.saveToken(token)\r\n\r\n    const response = await userService.edit({ profileText })\r\n\r\n\r\n    dispatch({\r\n      type: 'EDIT_PROFILE_TEXT',\r\n      profile: response\r\n    })\r\n  }\r\n}\r\n\r\nexport const addProfileImage = file => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n    userService.saveToken(token)\r\n\r\n    const response = await userService.addProfileImage(file)\r\n\r\n    dispatch({\r\n      type: 'ADD_PROFILE_PICTURE',\r\n      image: response\r\n    })\r\n\r\n  }\r\n}\r\n\r\nexport const addToFavorites = (username, operation) => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n    userService.saveToken(token)\r\n\r\n    const response = await userService.addToFavorites(username, operation)\r\n\r\n    const type = response.operation === 'add' ? 'ADD_TO_FAVORITES' : 'REMOVE_FROM_FAVORITES'\r\n\r\n    dispatch({\r\n      type,\r\n      profile: response.profile\r\n    })\r\n  }\r\n}\r\n\r\nexport const blockUser = (userToBlock, block) => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n    userService.saveToken(token)\r\n\r\n    const response = await userService.blockUser(userToBlock, block)\r\n    const type = block ? 'BLOCK_USER' : 'UNBLOCK_USER'\r\n\r\n    dispatch({\r\n      type,\r\n      userToBlock: response\r\n    })\r\n\r\n  }\r\n}\r\n\r\nexport const beingBlocked = (userWhoBlocked, block) => {\r\n\r\n  const type = block ? 'BEING_BLOCKED' : 'BEING_UNBLOCKED'\r\n\r\n  return {\r\n    type,\r\n    userWhoBlocked\r\n  }\r\n}\r\n\r\nexport const toggleChatEnabled = enable => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n    userService.saveToken(token)\r\n\r\n    const response = await userService.toggleChatEnabled(enable)\r\n\r\n    dispatch({\r\n      type: 'TOGGLE_CHAT_ENABLED',\r\n      enable: response\r\n    })\r\n\r\n  }\r\n}\r\n\r\nexport const toggleProfileVisible = visible => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n    userService.saveToken(token)\r\n\r\n    const response = await userService.toggleProfileVisible(visible)\r\n\r\n    dispatch({\r\n      type: 'TOGGLE_PROFILE_VISIBLE',\r\n      visible: response\r\n    })\r\n\r\n  }\r\n}","\r\nimport { setNotification } from './notification'\r\nimport { socket } from '../index'\r\n\r\n\r\nexport const openChat = () => ({\r\n  type: 'OPEN_CHAT'\r\n})\r\n\r\nexport const closeChat = () => ({\r\n  type: 'CLOSE_CHAT'\r\n})\r\n\r\nexport const toggleChat = () => ({\r\n  type: 'TOGGLE_CHAT'\r\n})\r\n\r\nexport const sendChatMessage = (from, to, message) => {\r\n\r\n  return async (dispatch, getState) => {\r\n    socket.emit('chat', { from, to, message })\r\n\r\n    dispatch({\r\n      type: 'ADD_CHAT_MESSAGE',\r\n      id: to,\r\n      message: `You: ${message}`\r\n    })\r\n  }\r\n}\r\n\r\nexport const createChatSession = (to, setChatWith) => {\r\n  const session = {\r\n    messages: [],\r\n    dot: 0\r\n  }\r\n\r\n  return {\r\n    type: 'CREATE_CHAT_SESSION',\r\n    id: to,\r\n    session,\r\n    setChatWith\r\n  }\r\n}\r\n\r\nexport const destroySession = sessionId => ({\r\n  type: 'DESTROY_SESSION',\r\n  sessionId\r\n})\r\n\r\nexport const receiveChatMessage = (from, message) => {\r\n  return async (dispatch, getState) => {\r\n\r\n    const sessions = getState().chat.sessions\r\n    const chatWith = getState().chat.chatWith\r\n    const maxWindow = getState().chat.maxWindow\r\n\r\n    if (!sessions[from]) {\r\n      await dispatch(createChatSession(from, false))\r\n    }\r\n\r\n    if (chatWith !== from) {\r\n      dispatch(setNotification(`${from}: ${message.substring(0, 20)}...`))\r\n      dispatch(setDot(from, 1))\r\n    }\r\n    else if (!maxWindow) {\r\n      dispatch(setNotification(`${from}: ${message.substring(0, 20)}...`))\r\n      dispatch(setDot(from, 1))\r\n    }\r\n\r\n    dispatch({\r\n      type: 'RECEIVE_CHAT_MESSAGE',\r\n      id: from,\r\n      message: `${from}: ${message}`\r\n    })\r\n\r\n  }\r\n}\r\n\r\nexport const setChatWith = chatWith => ({\r\n  type: 'SET_CHAT_WITH',\r\n  chatWith\r\n})\r\n\r\nexport const setDot = (id, onOff) => ({\r\n  type: 'SET_DOT',\r\n  id,\r\n  onOff\r\n})\r\n\r\nexport const setMaxWindow = onOff => ({\r\n  type: 'SET_MAX_WINDOW',\r\n  onOff\r\n})","import { useState } from 'react'\r\n\r\nconst useField = (type, pattern, defaultValue) => {\r\n  const [ value, setValue ] = useState(defaultValue ? defaultValue : '')\r\n\r\n  const onChange = e => {\r\n    if (pattern && pattern.test(e.target.value))\r\n      return \r\n\r\n    setValue(e.target.value)\r\n  }\r\n\r\n  const reset = () => {\r\n    setValue('')\r\n  }\r\n\r\n  return [{\r\n    value,\r\n    type,\r\n    onChange\r\n  }, reset]\r\n}\r\n\r\nexport default useField","import React, { useState, useRef, useEffect } from 'react'\r\nimport { styled, makeStyles } from '@material-ui/styles'\r\nimport { Tooltip } from '@material-ui/core'\r\nimport useField from '../../../hooks/useField'\r\nimport { Button } from '@material-ui/core'\r\nimport MinimizeIcon from '@material-ui/icons/Minimize';\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\nimport { connect } from 'react-redux'\r\nimport { sendChatMessage, setChatWith, setDot, setMaxWindow } from '../../../actions/chat'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { closeChat } from '../../../actions/chat'\r\nimport { theme } from '../../../theme/theme'\r\n\r\n\r\nconst ChatWindowMax = styled('div')({\r\n  width: '322px',\r\n  height: '500px',\r\n  overflow: 'hidden',\r\n  color: '#fff',\r\n  textAlign: 'center',\r\n  borderTopLeftRadius: '50px',\r\n  borderTopRightRadius: '50px',\r\n  borderBottomRightRadius: '5px',\r\n  borderBottomLeftRadius: '5px',\r\n  position: 'fixed',\r\n  zIndex: 50,\r\n  right: '5%',\r\n  bottom: '30px',\r\n  fontSize: '17px',\r\n  boxShadow: '0px 4px 18px 7px rgba(0,0,0,0.75)',\r\n  backgroundImage: \"url('/assets/images/puh1.png')\",\r\n})\r\n\r\nconst ChatWindowMin = styled('div')({\r\n  width: '322px',\r\n  backgroundColor: '#1769aa',\r\n  color: '#fff',\r\n  textAlign: 'center',\r\n  borderRadius: '5px',\r\n  paddingTop: '10px',\r\n  paddingBottom: '10px',\r\n  position: 'fixed',\r\n  zIndex: 50,\r\n  right: '5%',\r\n  bottom: '30px',\r\n  fontSize: '17px',\r\n  boxShadow: '0px 4px 18px 7px rgba(0,0,0,0.75)',\r\n  display: 'flex',\r\n  flexDirection: 'row',\r\n  justifyContent: 'space-around'\r\n})\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    height: '100%',\r\n    width: '100%',\r\n\r\n  },\r\n  navigation: {\r\n    height: '20%',\r\n    color: 'white',\r\n    background: 'rgba(25, 25, 250, 0.8)',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between',\r\n    paddingLeft: '25px',\r\n\r\n\r\n  },\r\n  body: {\r\n    height: '80%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-end',\r\n    background: 'rgba(25, 25, 250, 0.8)',\r\n\r\n  },\r\n  text: {\r\n    paddingTop: '30px',\r\n    width: '100%',\r\n    height: '85%',\r\n    overflow: 'auto',\r\n    color: 'black',\r\n    borderRadius: '5px'\r\n  },\r\n  inputContainer: {\r\n    height: '12%',\r\n    width: '100%',\r\n    padding: 0,\r\n    borderRadius: '5px',\r\n    marginTop: '3%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n\r\n  },\r\n  input: {\r\n    width: '100%',\r\n    borderStyle: 'none',\r\n    padding: '10px',\r\n    borderBottomLeftRadius: '5px',\r\n    borderBottomRightRadius: '5px'\r\n  },\r\n  left: {\r\n    width: '88%',\r\n    paddingLeft: '12%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    textAlign: 'left',\r\n    color: 'white'\r\n  },\r\n  right: {\r\n    width: '90%',\r\n    paddingRight: '10%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-end',\r\n    textAlign: 'right',\r\n    color: 'white'\r\n  },\r\n  li: {\r\n    maxWidth: '70%',\r\n    padding: '5px',\r\n    marginTop: '10px',\r\n    marginBottom: '10px',\r\n    borderRadius: '5px'\r\n  },\r\n  button: {\r\n    fontSize: '0.6em',\r\n    color: '#aaa',\r\n    padding: 0\r\n  },\r\n  textField: {\r\n    width: '180px',\r\n\r\n  },\r\n  cssLabel: {\r\n    color: theme.inputLabelColor,\r\n    fontSize: '0.7em',\r\n\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    '&$cssFocused': {\r\n      borderColor: `${theme.inputFocusedBorderColor} !important`\r\n    },\r\n\r\n    color: 'white',\r\n    fontSize: '0.8em'\r\n  },\r\n  cssFocused: {\r\n    color: `${theme.inputFocusedLabelColor} !important`\r\n  },\r\n  icon: {\r\n    backgroundColor: 'white'\r\n  },\r\n  icons: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    paddingRight: '25px'\r\n\r\n  }\r\n\r\n})\r\n\r\nconst Chat = ({ sendChatMessage, username, closeChat, candidates, sessions, chatWith, setDot, setMaxWindow, maxWindow }) => {\r\n\r\n  const [maximized, setMaximized] = useState(false)\r\n  const [message, clearMessage] = useField('text')\r\n\r\n  const messagesRef = useRef()\r\n\r\n  const classes = useStyles()\r\n\r\n  const scrollToBottom = () => {\r\n    if (messagesRef.current)\r\n      messagesRef.current.scrollIntoView({ behavior: 'smooth' })\r\n  }\r\n\r\n  useEffect(() => {\r\n    scrollToBottom()\r\n  })\r\n\r\n  const handleKeyUp = e => {\r\n    if (e.key === 'Enter') {\r\n      sendChatMessage(username, chatWith, message.value)\r\n      clearMessage()\r\n    }\r\n  }\r\n\r\n  if (!maximized && !maxWindow)\r\n    return <ChatWindowMin>\r\n      {\r\n        !chatWith ?\r\n          <Tooltip className={classes.link} title={<>\r\n          <p>You need to have a person selected to be able to chat</p>\r\n          <p>Add people from their profile page</p>\r\n          </>} placement=\"top\">\r\n            <Button\r\n              size=\"small\"\r\n              className={classes.button}\r\n            >\r\n              Open\r\n            </Button>\r\n          </Tooltip>\r\n          :\r\n          <Button\r\n            size=\"small\"\r\n            className={classes.button}\r\n            onClick={() => {\r\n              setMaximized(true)\r\n              setDot(chatWith, 0)\r\n              setMaxWindow(true)\r\n            }}\r\n          >\r\n            Open\r\n      </Button>\r\n      }\r\n\r\n      CHAT\r\n\r\n      <Button\r\n        size=\"small\"\r\n        className={classes.button}\r\n        onClick={() => closeChat()}\r\n      >\r\n        close\r\n        </Button>\r\n    </ChatWindowMin>\r\n\r\n  return (\r\n    <ChatWindowMax>\r\n      <div className={classes.root}>\r\n        <div className={classes.navigation}>\r\n          {chatWith}\r\n\r\n          <div className={classes.icons}>\r\n            <MinimizeIcon\r\n              fontSize=\"small\"\r\n              style={{ paddingRight: '10px', cursor: 'pointer' }}\r\n              onClick={() => {\r\n                setMaximized(false)\r\n                setMaxWindow(false)\r\n              }}\r\n            />\r\n            <ClearIcon\r\n              fontSize=\"small\"\r\n              onClick={() => {\r\n                closeChat()\r\n                setMaxWindow(false)\r\n              }}\r\n              style={{ cursor: 'pointer' }}\r\n            />\r\n          </div>\r\n\r\n        </div>\r\n        <div className={classes.body}>\r\n          <div className={classes.text}>\r\n            <ul style={{ listStyleType: 'none', margin: 0, padding: 0, width: '100%' }} >\r\n              {chatWith && sessions[chatWith].messages.map((message, index) =>\r\n                <div key={index} className={message.includes('You: ') ? classes.right : classes.left}>\r\n                  <li className={classes.li} \r\n                  style={{ background: message.includes('You: ') ? 'blue' : 'purple' }} >{message}</li>\r\n                </div>)\r\n              }\r\n              {candidates && <div ref={messagesRef}></div>}\r\n            </ul>\r\n\r\n          </div>\r\n          <div className={classes.inputContainer}>\r\n            <input {...message} onKeyUp={handleKeyUp} className={classes.input} placeholder=\"write something...\" />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </ChatWindowMax>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => {\r\n\r\n  return {\r\n    username: state.user.username,\r\n    candidates: Object.keys(state.chat.sessions),\r\n    sessions: state.chat.sessions,\r\n    chatWith: state.chat.chatWith,\r\n    maxWindow: state.chat.maxWindow\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { sendChatMessage, closeChat, setChatWith, setDot, setMaxWindow })(withRouter(Chat))","import React from 'react'\r\nimport { styled, makeStyles } from '@material-ui/styles'\r\nimport { connect } from 'react-redux'\r\nimport { setChatWith, setDot, destroySession } from '../../../actions/chat'\r\nimport { Badge } from '@material-ui/core'\r\nimport ClearIcon from '@material-ui/icons/Clear'\r\n\r\nconst CustomButton = styled('div')({\r\n  width: '100px',\r\n  height: '30px',\r\n  background: 'rgba(0,0,0,0.9)',\r\n  color: '#bbb',\r\n  borderTopRightRadius: '10px',\r\n  borderBottomLeftRadius: '10px',\r\n  boxShadow: '0px 4px 18px 7px rgba(0,0,0,0.75)',\r\n  position: 'fixed',\r\n  bottom: '30px',\r\n  fontSize: '0.8em',\r\n  padding: '5px',\r\n  display: 'flex',\r\n  alignItems: 'center',\r\n  justifyContent: 'center',\r\n  border: '1px solid blue',\r\n  transition: 'all .2s ease-in-out',\r\n  '&:hover': {\r\n    boxShadow: '0px 2px 10px 5px rgba(0,0,0,0.75)'\r\n  }\r\n})\r\n\r\nconst styles = makeStyles({\r\n  buttonContainer: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column'\r\n\r\n  },\r\n  icon: {\r\n    fontSize: '0.7em',\r\n    marginLeft: 'auto',\r\n    cursor: 'pointer'\r\n  },\r\n  name: {\r\n    cursor: 'pointer'\r\n  }\r\n})\r\n\r\n\r\nconst ChatButtons = ({ candidates, chatWith, setChatWith, sessions, setDot, destroySession }) => {\r\n\r\n  const classes = styles()\r\n\r\n  const buttonStyles = (index, name) => {\r\n    return {\r\n      left: 150 + index * 130,\r\n      color: chatWith === name ? 'white' : '#999'\r\n    }\r\n  }\r\n\r\n  return <div>\r\n    {candidates && candidates.map((name, index) =>\r\n      <CustomButton\r\n        key={index}\r\n        style={buttonStyles(index, name)}\r\n      >\r\n        <Badge badgeContent={sessions[name].dot} className={classes.buttonContainer} color=\"primary\" variant=\"dot\" anchorOrigin={{\r\n          horizontal: \"left\",\r\n          vertical: \"top\"\r\n        }}>\r\n\r\n          <ClearIcon className={classes.icon} onClick={() => destroySession(name)} />\r\n          <span className={classes.name} onClick={() => {\r\n            setChatWith(name)\r\n            setDot(name, 0)\r\n          }}>{name.length > 5 ? `${name.substring(0, 8)}...` : name}</span>\r\n\r\n        </Badge>\r\n      </CustomButton>)}\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  candidates: Object.keys(state.chat.sessions),\r\n  chatWith: state.chat.chatWith,\r\n  sessions: state.chat.sessions\r\n})\r\n\r\nexport default connect(mapStateToProps, { setChatWith, setDot, destroySession })(ChatButtons)","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport React, { useEffect } from 'react'\r\nimport { Paper, Button } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { theme } from '../../theme/theme'\r\nimport { connect } from 'react-redux'\r\nimport { logout, addToFavorites, beingBlocked } from '../../actions/user'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { receiveChatMessage, destroySession } from '../../actions/chat'\r\nimport { socket } from '../../index'\r\nimport { setNotification } from '../../actions/notification'\r\nimport { mailUnread } from '../../actions/mail'\r\nimport Chat from '../ContentArea/chat/Chat'\r\nimport PersonIcon from '@material-ui/icons/Person'\r\nimport ExitToAppIcon from '@material-ui/icons/ExitToApp'\r\nimport ChatButtons from '../ContentArea/chat/ChatButtons'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '96.4%',\r\n    height: '10%',\r\n    padding: '10px',\r\n    margin: '1% auto',\r\n    backgroundColor: theme.navigationBackgound,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    alignItems: 'center',\r\n    border: '2px solid #bbb'\r\n  },\r\n  loggedInContainer: {\r\n    color: '#bbb',\r\n    fontSize: '1.3em',\r\n    marginRight: '15px',\r\n    width: '35%'\r\n  },\r\n  loggedIn: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between'\r\n  },\r\n  username: {\r\n    color: 'white'\r\n  },\r\n  iconAndText: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center'\r\n  }\r\n})\r\n\r\nconst Navigation = props => {\r\n\r\n  const { username,\r\n    loggedIn,\r\n    logout,\r\n    setNotification,\r\n    history,\r\n    receiveChatMessage,\r\n    chatOpen,\r\n    mailUnread,\r\n    addToFavorites,\r\n    beingBlocked,\r\n    destroySession\r\n  } = props\r\n\r\n  const classes = useStyles()\r\n\r\n  useEffect(() => {\r\n    socket.on('mail', data => {\r\n      if (data.receiver === username) {\r\n        setNotification(`${data.mail.author} sent you mail`)\r\n        mailUnread()\r\n      }\r\n      else if (data.author === username) {\r\n        setNotification(`You sent mail to ${data.mail.receiver}`)\r\n      }\r\n    })\r\n\r\n    socket.on('block_user', data => {\r\n      if (data.to === username) {\r\n        if (data.block) {\r\n          addToFavorites(data.from, 'remove')\r\n        }\r\n\r\n        beingBlocked(data.from, data.block)\r\n        destroySession(data.from)\r\n      }\r\n    })\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n\r\n    if (username)\r\n      socket.emit('newUser', username)\r\n\r\n    socket.on('chat', data => {\r\n      if (data.to === username) {\r\n        receiveChatMessage(data.from, data.message)\r\n\r\n      }\r\n    })\r\n\r\n    socket.on('disconnect', (reason) => {\r\n      console.log(reason, 'socket disconnect reason *********************')\r\n      if (reason === 'io server disconnect') {\r\n        socket.connect()\r\n      }\r\n    })\r\n  }, [])\r\n\r\n\r\n\r\n  const handleLogout = async () => {\r\n    await history.push('/')\r\n    logout()\r\n  }\r\n  \r\n\r\n  return <Paper className={classes.root} elevation={5}>\r\n    <img src='/assets/images/title3.png' alt='title' />\r\n    <div className={classes.loggedInContainer}>\r\n      {\r\n        loggedIn\r\n          ?\r\n          <div className={classes.loggedIn}>\r\n            <div className={classes.iconAndText}>\r\n              <PersonIcon style={{ paddingRight: '5px' }} /> <p>Logged in: <span className={classes.username}>{username}</span></p>\r\n            </div>\r\n            <img src=\"/assets/images/boygirl.png\" width='130' alt='face' />\r\n            <div className={classes.iconAndText}>\r\n              <ExitToAppIcon style={{ paddingRight: '5px' }} />\r\n              <Button color='primary' size='small' onClick={handleLogout}>Log out</Button>\r\n            </div>\r\n          </div>\r\n          :\r\n          ''\r\n      }\r\n\r\n      {chatOpen && <Chat />}\r\n      {chatOpen && <ChatButtons />}\r\n    </div>\r\n\r\n  </Paper>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  username: state.user.username,\r\n  loggedIn: state.user.loggedIn,\r\n  chatOpen: state.chat.chatOpen\r\n})\r\n\r\nconst mapDispatchToProps = ({\r\n  logout,\r\n  setNotification,\r\n  receiveChatMessage,\r\n  mailUnread,\r\n  addToFavorites,\r\n  beingBlocked,\r\n  destroySession\r\n})\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(withRouter(Navigation))\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport Button from '@material-ui/core/Button'\r\nimport { theme } from '../../theme/theme'\r\nimport useField from '../../hooks/useField'\r\nimport { login } from '../../actions/user'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../../actions/notification'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'center'\r\n  },\r\n  container: {\r\n    width: '90%',\r\n    height: '90%',\r\n    margin: '10px',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-between'\r\n  },\r\n\r\n  header: {\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    color: theme.signupHeaderColor\r\n  },\r\n  textField: {\r\n    color: theme.inputTextColor,\r\n    background: theme.textFieldBackgroundColor\r\n  },\r\n  cssLabel: {\r\n    color: theme.inputLabelColor\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    '&$cssFocused $notchedOutline': {\r\n      borderColor: `${theme.inputFocusedBorderColor} !important`,\r\n    },\r\n    color: 'white'\r\n  },\r\n  cssFocused: {\r\n    color: `${theme.inputFocusedLabelColor} !important`\r\n  },\r\n  icon: {\r\n    backgroundColor: 'inherit'\r\n  },\r\n  notchedOutline: {\r\n    borderWidth: '1px',\r\n    borderColor: `${theme.inputBorderColor} !important`\r\n  },\r\n  button: {\r\n    width: '50%',\r\n    margin: '20px auto'\r\n  },\r\n  register: {\r\n    width: '90%',\r\n    margin: '10px',\r\n    color: theme.signupHeaderColor,\r\n    fontSize: '1em',\r\n    textAlign: 'left',\r\n    '& p': {\r\n      color: 'white',\r\n      fontSize: '1.3em',\r\n      cursor: 'pointer'\r\n    }\r\n  }\r\n})\r\n\r\nconst Login = props => {\r\n\r\n  const [username, resetUsername] = useField('text')\r\n  const [password, resetPassword] = useField('password')\r\n\r\n  const classes = useStyles()\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault()\r\n\r\n    if (!username.value || !password.value) {\r\n      props.setNotification('You need to provide both values')\r\n      return\r\n    }\r\n    \r\n    props.login({ username: username.value, password: password.value })\r\n   \r\n    resetUsername()\r\n    resetPassword()\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <form className={classes.container}>\r\n        <div className={classes.header}>\r\n          <h1>Login</h1>\r\n        </div>\r\n\r\n        <input type=\"password\" style={{ display: 'none' }} readOnly={true} autoComplete=\"new-password\"></input>\r\n\r\n        <TextField\r\n          {...username}\r\n          className={classes.textField}\r\n          label=\"Username\"\r\n          margin=\"normal\"\r\n          fullWidth\r\n          required\r\n          variant=\"outlined\"\r\n          InputLabelProps={{\r\n            classes: {\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused,\r\n            },\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              root: classes.cssOutlinedInput,\r\n              focused: classes.cssFocused,\r\n              notchedOutline: classes.notchedOutline,\r\n            }\r\n          }}\r\n        />\r\n\r\n        <TextField\r\n          className={classes.textField}\r\n          {...password}\r\n          label=\"Password\"\r\n          margin=\"normal\"\r\n          fullWidth\r\n          required\r\n          variant=\"outlined\"\r\n          InputLabelProps={{\r\n            classes: {\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused,\r\n            },\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              root: classes.cssOutlinedInput,\r\n              focused: classes.cssFocused,\r\n              notchedOutline: classes.notchedOutline,\r\n            }\r\n          }}\r\n        />\r\n\r\n        <Button variant=\"contained\" color=\"primary\" className={classes.button} onClick={handleSubmit}>\r\n          Login\r\n        </Button>\r\n      </form>\r\n      <div className={classes.register}>\r\n        Don't have an account yet?\r\n        <p className={classes.link} onClick={props.toggleRegister}>Register here</p>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  login,\r\n  setNotification\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Login)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport TextField from '@material-ui/core/TextField'\r\nimport MenuItem from '@material-ui/core/MenuItem'\r\nimport Button from '@material-ui/core/Button'\r\nimport { theme } from '../../theme/theme'\r\nimport useField from '../../hooks/useField'\r\nimport signupService from '../../services/user'\r\nimport { signup } from '../../actions/user'\r\nimport { setNotification } from '../../actions/notification'\r\nimport { connect } from 'react-redux'\r\n\r\nconst genders = [\r\n  {\r\n    value: '',\r\n    label: 'Gender'\r\n  },\r\n  {\r\n    value: 'male',\r\n    label: 'Male'\r\n  },\r\n  {\r\n    value: 'female',\r\n    label: 'Female'\r\n  }\r\n]\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n  },\r\n  container: {\r\n    width: '90%',\r\n    height: '95%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n\r\n  header: {\r\n    width: '100%',\r\n    textAlign: 'center',\r\n    color: theme.signupHeaderColor\r\n  },\r\n  textField: {\r\n    color: theme.inputTextColor,\r\n    background: theme.textFieldBackgroundColor,\r\n    \r\n  },\r\n  cssLabel: {\r\n    color: theme.inputLabelColor\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    '&$cssFocused $notchedOutline': {\r\n      borderColor: `${theme.inputFocusedBorderColor} !important`,\r\n    },\r\n    color: 'white'\r\n  },\r\n  cssFocused: {\r\n    color: `${theme.inputFocusedLabelColor} !important`\r\n  },\r\n  icon: {\r\n    backgroundColor: 'inherit'\r\n  },\r\n  notchedOutline: {\r\n    borderWidth: '1px',\r\n    borderColor: `${theme.inputBorderColor} !important`\r\n  },\r\n  button: {\r\n    width: '50%',\r\n    margin: '20px auto'\r\n  },\r\n  register: {\r\n    width: '90%',\r\n    height: '10%',\r\n    margin: '10px',\r\n    color: theme.signupHeaderColor,\r\n    fontSize: '1em',\r\n    textAlign: 'left',\r\n    '& p': {\r\n      color: 'white',\r\n      fontSize: '1.3em',\r\n      cursor: 'pointer'\r\n    }\r\n  }\r\n})\r\n\r\nconst Signup = props => {\r\n\r\n  const [username, resetUsername] = useField('text')\r\n  const [gender, resetGender] = useField('text')\r\n  const [age, resetAge] = useField('text', /\\D|\\d{3}/)\r\n  const [password, resetPassword] = useField('password')\r\n  const [confirmPassword, resetConfirmPassword] = useField('password')\r\n  \r\n  const classes = useStyles()\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault()\r\n\r\n    if (!inputValid())\r\n      return\r\n    \r\n    const response = await signupService.signup({\r\n      username: username.value,\r\n      password: password.value,\r\n      age: +age.value,\r\n      gender: gender.value\r\n    })\r\n\r\n    props.signup(response)\r\n\r\n    resetUsername()\r\n    resetGender()\r\n    resetAge()\r\n    resetPassword()\r\n    resetConfirmPassword()\r\n    props.toggleRegister()\r\n  }\r\n\r\n  const inputValid = () => {\r\n    if (!username.value || !age.value || !gender.value || !password.value || !confirmPassword.value) {\r\n      props.setNotification('All fields must be filled')\r\n      return false\r\n    }\r\n\r\n    if (password.value !== confirmPassword.value ) {\r\n      props.setNotification('Passwords wont match')\r\n      return false\r\n    }\r\n\r\n    if (password.value.length < 6) {\r\n      props.setNotification('Password must be at least 6 characters')\r\n      return false\r\n    }\r\n\r\n    if (username.value.length < 4) {\r\n      props.setNotification('Username must be at least 4 characters')\r\n      return false\r\n    }\r\n\r\n    if (age.value < 18 || age.value > 99) {\r\n      props.setNotification('Age must be between 18 and 99')\r\n      return false\r\n    }\r\n\r\n    return true\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.container}>\r\n        <div className={classes.header}>\r\n          <h1>Sign Up</h1>\r\n        </div>\r\n\r\n        <input type=\"password\" style={{display:'none'}} readOnly={true} autoComplete=\"new-password\"></input>\r\n\r\n        <TextField\r\n          {...username}\r\n          margin=\"dense\"\r\n          required\r\n          className={classes.textField}\r\n          label=\"Username\"\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          InputLabelProps={{\r\n            classes: {\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused,\r\n            },\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              root: classes.cssOutlinedInput,\r\n              focused: classes.cssFocused,\r\n              notchedOutline: classes.notchedOutline,\r\n            }\r\n          }}\r\n        />\r\n\r\n        <TextField\r\n          select\r\n          margin=\"dense\"\r\n          required\r\n          className={classes.textField}\r\n          label=\"Gender\"\r\n          {...gender}\r\n          variant=\"outlined\"\r\n          InputLabelProps={{\r\n            classes: {\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused,\r\n            },\r\n          }}\r\n          InputProps={{ \r\n            classes: {\r\n              root: classes.cssOutlinedInput,\r\n              focused: classes.cssFocused,\r\n              notchedOutline: classes.notchedOutline,\r\n            }\r\n          }}\r\n        >\r\n          {genders.map(option => (\r\n            <MenuItem key={option.value} value={option.value}>\r\n              {option.label}\r\n            </MenuItem>))}\r\n\r\n        </TextField>\r\n\r\n\r\n        <TextField\r\n          className={classes.textField}\r\n          {...age}\r\n          margin=\"dense\"\r\n          required\r\n          label=\"Age\"\r\n          variant=\"outlined\"\r\n          InputLabelProps={{ \r\n            classes: {\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused,\r\n            },\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              root: classes.cssOutlinedInput,\r\n              focused: classes.cssFocused,\r\n              notchedOutline: classes.notchedOutline\r\n            }\r\n          }}\r\n        />\r\n\r\n\r\n        <TextField\r\n          className={classes.textField}\r\n          {...password}\r\n          margin=\"dense\"\r\n          required\r\n          label=\"Password\"\r\n          variant=\"outlined\"\r\n          InputLabelProps={{\r\n            classes: {\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused,\r\n            },\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              root: classes.cssOutlinedInput,\r\n              focused: classes.cssFocused,\r\n              notchedOutline: classes.notchedOutline,\r\n            }\r\n          }}\r\n        />\r\n\r\n\r\n        <TextField\r\n          className={classes.textField}\r\n          {...confirmPassword}\r\n          margin=\"dense\"\r\n          required\r\n          label=\"Confirm password\"\r\n          variant=\"outlined\"\r\n          InputLabelProps={{\r\n            classes: {\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused,\r\n            },\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              root: classes.cssOutlinedInput,\r\n              focused: classes.cssFocused,\r\n              notchedOutline: classes.notchedOutline,\r\n            }\r\n          }}\r\n        />\r\n\r\n        <Button variant=\"contained\" size=\"small\" color=\"primary\" className={classes.button} onClick={handleSubmit}>\r\n          Submit\r\n        </Button>\r\n\r\n        <div className={classes.register}>\r\n        Have already an account?\r\n        <p className={classes.link} onClick={props.toggleRegister}>Login here</p>\r\n      </div>\r\n\r\n      </div>\r\n      \r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapDispatchToProps = {\r\n  signup,\r\n  setNotification\r\n}\r\n\r\nexport default connect(null, mapDispatchToProps)(Signup)","import React, { useState } from 'react'\r\nimport Login from './Login'\r\nimport Signup from './Signup'\r\n\r\n\r\nconst LoginAndSignup = props => {\r\n  const [ isLoginPage, setIsLoginPage ] = useState(true)\r\n  \r\n  const toggleRegister = () => {\r\n    if(isLoginPage)\r\n      setIsLoginPage(false)\r\n\r\n    else\r\n      setIsLoginPage(true)\r\n  }\r\n\r\n  return <div>\r\n    {\r\n      isLoginPage \r\n      ?\r\n      <Login toggleRegister={toggleRegister} />\r\n      :\r\n      <Signup toggleRegister={toggleRegister} />\r\n    }\r\n\r\n  </div>\r\n}\r\n\r\nexport default LoginAndSignup","\r\nexport const setSearch = data => {\r\n\r\n  return {\r\n    type: 'SET_SEARCH',\r\n    data\r\n  }\r\n}","import profilesService from '../services/profiles'\r\nimport { setSearch } from './search'\r\nimport { setNotification } from './notification'\r\n\r\nexport const searchProfiles = (searchOptions) => {\r\n\r\n  return async (dispatch, getState) => {\r\n\r\n    const { token } = getState().user\r\n\r\n    profilesService.saveToken(token)\r\n    const response = await profilesService.searchProfiles(searchOptions)\r\n\r\n    if (response.count >= 0)\r\n      dispatch(setSearch({ ...searchOptions, profileCount: response.count }))\r\n    else\r\n      dispatch(setSearch(searchOptions))\r\n\r\n    dispatch({\r\n      type: 'SEARCH_PROFILES',\r\n      profiles: response.profiles\r\n    })\r\n  }\r\n}\r\n\r\nexport const searchProfile = (username, history) => {\r\n\r\n  return async (dispatch, getState) => {\r\n    const { token } = getState().user\r\n\r\n    profilesService.saveToken(token)\r\n\r\n    try {\r\n\r\n      const response = await profilesService.searchProfile(username)\r\n      \r\n      await dispatch({\r\n        type: 'SEARCH_PROFILES',\r\n        profiles: [response]\r\n      })\r\n\r\n      history.push(`/search/profiles/${username}`)\r\n    }\r\n    catch (error) {\r\n      dispatch(setNotification('No such username'))\r\n      \r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport const fetchFavorites = favorits => {\r\n  return {\r\n    type: 'FETCH_FAVORITES',\r\n    profiles: favorits\r\n  }\r\n}","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport { Slider, Button, Typography, Grid, Switch, TextField } from '@material-ui/core/'\r\nimport { connect } from 'react-redux'\r\nimport { searchProfiles, searchProfile } from '../../actions/profiles'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { theme } from '../../theme/theme'\r\nimport { Paper } from '@material-ui/core'\r\nimport useField from '../../hooks/useField'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '80%',\r\n    height: '90%',\r\n    margin: '0 auto',\r\n    color: '#bbb',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'space-around'\r\n  },\r\n  typography: {\r\n    marginRight: 'auto'\r\n  },\r\n  button: {\r\n    marginTop: '20px'\r\n  },\r\n  switchBase: {\r\n    color: '#1769aa',\r\n    '&$checked': {\r\n      color: 'purple',\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: 'rgb(0, 0, 0, 0)',\r\n    },\r\n  },\r\n  track: {},\r\n  checked: {},\r\n  textField: {\r\n    color: '#bbb',\r\n    background: 'rgba(0, 0, 0, 0)'\r\n  },\r\n  cssLabel: {\r\n    color: '#bbb'\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    '&$cssFocused $notchedOutline': {\r\n      borderColor: `#1769aa !important`,\r\n    },\r\n    borderColor: '#444',\r\n    color: '#444'\r\n  },\r\n  cssFocused: {\r\n    color: `${theme.inputFocusedLabelColor} !important`\r\n  },\r\n  icon: {\r\n    backgroundColor: 'inherit'\r\n  },\r\n  notchedOutline: {\r\n    borderWidth: '1px',\r\n    borderColor: `#1769aa !important`\r\n  },\r\n  paper: {\r\n    width: '90%',\r\n    background: theme.sidebarBackground,\r\n    padding: '15px',\r\n    color: '#bbb',\r\n    textAlign: 'left'\r\n  }\r\n})\r\n\r\nfunction valuetext(value) {\r\n  return `${value}`;\r\n}\r\n\r\nconst Search = props => {\r\n  const classes = useStyles()\r\n  const [value, setValue] = React.useState([18, 99])\r\n  const [gender, setGender] = React.useState(true)\r\n  const [username, clearUsername] = useField('text')\r\n\r\n  const handleChange = (event, newValue) => {\r\n    setValue(newValue);\r\n  }\r\n\r\n  const handleSearchProfile = () => {\r\n    props.searchProfile(username.value, props.history)\r\n    \r\n    clearUsername()\r\n  }\r\n\r\n  const handleSearchProfiles = () => {\r\n\r\n    const searchData = {\r\n      age: value,\r\n      gender: gender === false ? 'male' : 'female',\r\n      page: 1,\r\n      limit: 12\r\n    }\r\n\r\n    props.searchProfiles(searchData)\r\n    props.history.push('/search/profiles')\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Paper className={classes.paper}>\r\n        <Typography className={classes.typography} id=\"age-slider\" gutterBottom>\r\n          Age range\r\n      </Typography>\r\n        <Slider\r\n          value={value}\r\n          onChange={handleChange}\r\n          valueLabelDisplay=\"auto\"\r\n          aria-labelledby=\"age-slider\"\r\n          getAriaValueText={valuetext}\r\n        />\r\n\r\n\r\n        <Typography className={classes.typography} style={{ marginTop: '25px' }} component=\"div\">\r\n          Looking for\r\n          </Typography>\r\n        <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\r\n          <Grid item>Men</Grid>\r\n          <Grid item>\r\n            <Switch\r\n              classes={{\r\n                switchBase: classes.switchBase\r\n              }}\r\n              checked={gender}\r\n              onChange={e => setGender(e.target.checked)}\r\n              value=\"male\"\r\n              color=\"primary\"\r\n            />\r\n          </Grid>\r\n          <Grid item>Women</Grid>\r\n        </Grid>\r\n\r\n\r\n        <Button\r\n          className={classes.button}\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          color='primary'\r\n          onClick={handleSearchProfiles}\r\n        >\r\n          Search\r\n        </Button>\r\n      </Paper>\r\n\r\n      <Paper className={classes.paper}>\r\n        <TextField\r\n          {...username}\r\n          className={classes.textField}\r\n          label=\"Search by username\"\r\n          margin=\"dense\"\r\n          fullWidth\r\n          variant=\"outlined\"\r\n          InputLabelProps={{\r\n            classes: {\r\n              root: classes.cssLabel,\r\n              focused: classes.cssFocused,\r\n            },\r\n          }}\r\n          InputProps={{\r\n            classes: {\r\n              root: classes.cssOutlinedInput,\r\n              focused: classes.cssFocused,\r\n              notchedOutline: classes.notchedOutline,\r\n            }\r\n          }}\r\n        />\r\n        <Button\r\n          className={classes.button}\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          color='primary'\r\n          onClick={handleSearchProfile}\r\n        >\r\n          Search\r\n        </Button>\r\n      </Paper>\r\n\r\n    </div>\r\n  );\r\n}\r\n\r\n\r\nexport default connect(null, { searchProfiles, searchProfile })(withRouter(Search))","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { theme } from '../../theme/theme'\r\nimport { NavLink } from 'react-router-dom'\r\nimport SearchIcon from '@material-ui/icons/Search'\r\nimport AccountCircleIcon from '@material-ui/icons/AccountCircle'\r\nimport { connect } from 'react-redux'\r\nimport { fetchFavorites } from '../../actions/profiles'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '10%',\r\n    background: theme.smallNavigationBackground,\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    color: '#bbb',\r\n    \r\n    boxShadow: '-1px 5px 18px 0px rgba(255,255,255,0.7)'\r\n  },\r\n  navLink: {\r\n    color: '#999',\r\n    textDecoration: 'none',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center'\r\n  },\r\n  active: {\r\n    color: 'white'\r\n  },\r\n  icon: {\r\n    paddingRight: '5px'\r\n  }\r\n})\r\n\r\nconst Navigation = ({ fetchFavorites, favorites })=> {\r\n\r\n  const classes = useStyles()\r\n\r\n  return <div className={classes.root}>\r\n    <p>\r\n      <NavLink to=\"/profile\" activeClassName={classes.active} className={classes.navLink} exact >\r\n        <AccountCircleIcon className={classes.icon} />\r\n        Profile</NavLink></p>\r\n    <p>\r\n      <NavLink to=\"/search\" activeClassName={classes.active} className={classes.navLink} onClick={() => fetchFavorites(favorites)} >\r\n      <SearchIcon className={classes.icon} />\r\n      Search</NavLink></p>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  favorites: state.user.favorites\r\n})\r\n\r\nexport default connect(mapStateToProps, { fetchFavorites })(Navigation)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { connect } from 'react-redux'\r\nimport { Link } from 'react-router-dom'\r\nimport { fetchInbox, fetchSent } from '../../actions/mail'\r\nimport { Paper, Badge } from '@material-ui/core'\r\nimport { theme } from '../../theme/theme'\r\nimport EmailIcon from '@material-ui/icons/Email'\r\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\r\nimport ChatIcon from '@material-ui/icons/Chat'\r\nimport { openChat } from '../../actions/chat'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    height: '90%',\r\n    width: '100%',\r\n    color: '#bbb',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    \r\n\r\n  },\r\n  statsContainer: {\r\n    width: '80%',\r\n    height: '40%',\r\n    \r\n  },\r\n  postsContainer: {\r\n    width: '80%',\r\n    \r\n  },\r\n  link: {\r\n    color: '#bbb',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center',\r\n    textDecoration: 'none'\r\n  },\r\n  paper: {\r\n    background: theme.sidebarBackground,\r\n    padding: '12px',\r\n    paddingLeft: '40px',\r\n    color: '#bbb',\r\n    textAlign: 'left'\r\n  },\r\n  icon: {\r\n    paddingRight: '5px'\r\n  }\r\n})\r\n\r\nconst OwnProfileStats = ({ user, fetchInbox, fetchSent, countOfUnread, openChat }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return <div className={classes.root}>\r\n    <div className={classes.statsContainer}>\r\n      <Paper elevation={10} className={classes.paper}>\r\n        <h2>Personal info</h2>\r\n        <p>Username: {user.username}</p>\r\n        <p>Gender: {user.gender}</p>\r\n        <p>Age: {user.age}</p>\r\n      </Paper>\r\n    </div>\r\n    <div className={classes.postsContainer}>\r\n      <Paper elevation={10} className={classes.paper}>\r\n        <p><Link to=\"/profile/inbox\" className={classes.link} onClick={() => fetchInbox()}>\r\n          <Badge badgeContent={countOfUnread} color=\"primary\" anchorOrigin={{\r\n            horizontal: \"left\",\r\n            vertical: \"top\"\r\n          }}>\r\n            <EmailIcon className={classes.icon} />\r\n          </Badge>\r\n          Inbox</Link></p>\r\n        <p><Link to=\"/profile/sent\" className={classes.link} onClick={() => fetchSent()} >\r\n          <MailOutlineIcon className={classes.icon} />\r\n          Sent mail</Link></p>\r\n        <p className={classes.link} onClick={openChat} style={{ cursor: 'pointer' }}>\r\n          <ChatIcon className={classes.icon} />Chat\r\n        </p>\r\n\r\n      </Paper>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  user: state.user,\r\n  countOfUnread: state.mail.countOfUnread\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  fetchInbox,\r\n  fetchSent,\r\n  openChat\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(OwnProfileStats)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { connect } from 'react-redux'\r\nimport { theme } from '../../theme/theme'\r\nimport { Paper } from '@material-ui/core'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    height: '90%',\r\n    width: '100%',\r\n    color: '#bbb',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    marginTop: '20%',\r\n    alignItems: 'center',\r\n\r\n  },\r\n  container: {\r\n    width: '80%',\r\n    height: '50%',\r\n  },\r\n  link: {\r\n    color: '#bbb'\r\n  },\r\n  paper: {\r\n    background: theme.sidebarBackground,\r\n    padding: '16px',\r\n    color: '#bbb',\r\n    textAlign: 'center'\r\n  }\r\n})\r\n\r\nconst ProfileStats = ({ profile, fromFavorites }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return <div className={classes.root}>\r\n    <div className={classes.container}>\r\n      <Paper className={classes.paper} elevation={10}>\r\n        <h2>Personal info</h2>\r\n        <p>Username: {profile.username}</p>\r\n        <p>Gender: {profile.gender}</p>\r\n        <p>Age: {profile.age}</p>\r\n      </Paper>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = (state, { match }) => {\r\n  return {\r\n    profile: state.profiles.find(profile => profile.username === match.params.username)\r\n  }\r\n}\r\n\r\n\r\nexport default connect(mapStateToProps)(ProfileStats)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { Typography, Grid, Switch } from '@material-ui/core'\r\nimport { connect } from 'react-redux'\r\nimport { theme } from '../../theme/theme'\r\nimport { Paper } from '@material-ui/core'\r\nimport { toggleChatEnabled, toggleProfileVisible } from '../../actions/user'\r\nimport { Link } from 'react-router-dom'\r\nimport MeetingRoomRoundedIcon from '@material-ui/icons/MeetingRoomRounded'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '80%',\r\n    height: '90%',\r\n    margin: '0 auto',\r\n    color: '#bbb',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    marginTop: '20%'\r\n  },\r\n  container: {\r\n    width: '100%',\r\n    height: '80%',\r\n    textAlign: 'center'\r\n  },\r\n  typography: {\r\n    marginRight: 'auto'\r\n  },\r\n  link: {\r\n    color: 'red',\r\n    textDecoration: 'none',\r\n    border: '1px solid red',\r\n    padding: '5px',\r\n    display: 'flex',\r\n    alignItems: 'center'\r\n  },\r\n  paper: {\r\n    background: theme.sidebarBackground,\r\n    padding: '16px',\r\n    paddingLeft: '30px',\r\n    color: '#bbb',\r\n    textAlign: 'left'\r\n  },\r\n  switchBase: {\r\n    color: '#1769aa',\r\n    '&$checked': {\r\n      color: 'purple',\r\n    },\r\n    '&$checked + $track': {\r\n      backgroundColor: 'rgb(0, 0, 0, 0)',\r\n    },\r\n  },\r\n  track: {},\r\n  checked: {},\r\n  linkContainer: {\r\n    paddingTop: '20px',\r\n   \r\n  },\r\n  icon: { \r\n    paddingRight: '5px', \r\n    paddingLeft: '15px',\r\n    color: 'red',\r\n\r\n  }\r\n})\r\n\r\nconst Settings = ({ chatEnabled, toggleChatEnabled, visible, toggleProfileVisible }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return <div className={classes.root}>\r\n    <div className={classes.container}>\r\n\r\n      <Paper className={classes.paper} elevation={10}>\r\n        <h2>Settings</h2>\r\n        <Typography className={classes.typography} style={{ marginTop: '25px' }} component=\"div\">\r\n          Chat Enabled\r\n          </Typography>\r\n        <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\r\n          <Grid item>Disabled</Grid>\r\n          <Grid item>\r\n            <Switch\r\n              classes={{\r\n                switchBase: classes.switchBase\r\n              }}\r\n              checked={chatEnabled}\r\n              onChange={() => toggleChatEnabled(!chatEnabled)}\r\n              value=\"male\"\r\n              color=\"primary\"\r\n            />\r\n          </Grid>\r\n          <Grid item>Enabled</Grid>\r\n        </Grid>\r\n\r\n        <Typography className={classes.typography} style={{ marginTop: '25px' }} component=\"div\">\r\n          Profile Visible\r\n          </Typography>\r\n        <Grid component=\"label\" container alignItems=\"center\" spacing={1}>\r\n          <Grid item>Hidden</Grid>\r\n          <Grid item>\r\n            <Switch\r\n              classes={{\r\n                switchBase: classes.switchBase\r\n              }}\r\n              checked={visible}\r\n              onChange={() => toggleProfileVisible(!visible)}\r\n              value=\"male\"\r\n              color=\"primary\"\r\n            />\r\n          </Grid>\r\n          <Grid item>Visible</Grid>\r\n        </Grid>\r\n\r\n        <hr style={{ border: 'none', borderTop: '1px solid #bbb', marginTop: '15px' }} />\r\n\r\n        <div className={classes.linkContainer}>\r\n          <Link to=\"/erase\" className={classes.link}><MeetingRoomRoundedIcon className={classes.icon} />Erase Profile</Link>\r\n        </div>\r\n\r\n      </Paper>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  chatEnabled: state.user.profile.chatEnabled,\r\n  visible: state.user.profile.visible\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { toggleChatEnabled, toggleProfileVisible })(Settings)","import React from 'react'\r\nimport { Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { theme } from '../../theme/theme'\r\nimport LoginAndSignup from './LoginAndSignup'\r\nimport { connect } from 'react-redux'\r\nimport Search from './Search'\r\nimport Navigation from './Navigation'\r\nimport { Route, Redirect } from 'react-router-dom'\r\nimport OwnProfileStats from './OwnProfileStats'\r\nimport ProfileStats from './ProfileStats'\r\nimport Settings from './Settings'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    background: theme.searchbarBackground,\r\n    width: '25%',\r\n    height: '90%',\r\n    marginLeft: '1%',\r\n    marginRight: '1%',\r\n    border: '2px solid #bbb'\r\n\r\n  }\r\n})\r\n\r\nconst Sidebar = props => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return <Paper className={classes.root} elevation={10}>\r\n    { props.loggedIn && <Navigation /> }\r\n    <Route path=\"/search/profiles/:username\" component={ProfileStats} />\r\n    <Route exact path=\"/search/profiles/\" component={Search} />\r\n    <Route exact path=\"/search\" component={Search} />\r\n    <Route exact path=\"/settings\" component={Settings} />\r\n    <Route exact path=\"/erase\" component={Settings} />\r\n    <Route path=\"/profile\" component={OwnProfileStats} />\r\n    <Route path=\"/\" render={() => !props.loggedIn ? <LoginAndSignup /> : <Redirect to=\"/profile\" /> } />\r\n  </Paper>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  loggedIn: state.user.loggedIn\r\n})\r\n\r\nexport default connect(mapStateToProps)(Sidebar)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Card from '@material-ui/core/Card'\r\nimport CardActions from '@material-ui/core/CardActions'\r\nimport CardContent from '@material-ui/core/CardContent'\r\nimport Button from '@material-ui/core/Button'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  card: {\r\n    width: '90px',\r\n    height: '100%',\r\n    background: 'black',\r\n    marginLeft: '10px',\r\n    boxShadow: '10px 10px 5px 0px rgba(0,0,0,0.75)',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between'\r\n  },\r\n  cardContent: {\r\n    padding: 0\r\n  },\r\n  image: {\r\n    margin: '0 auto'\r\n  },\r\n  button: {\r\n    margin: '0 auto',\r\n    fontSize: '0.5em'\r\n  }\r\n});\r\n\r\nconst ProfileThumbnail = props => {\r\n  const classes = useStyles()\r\n  \r\n\r\n  return (\r\n    <Card className={classes.card} elevation={10}>\r\n      <CardContent className={classes.cardContent}>\r\n        <img src={props.image} alt=\"profile\" width=\"90\" className={classes.image} />\r\n      </CardContent>\r\n      <CardActions>\r\n        <Button size=\"small\" className={classes.button} color=\"primary\">{props.username}</Button>\r\n      </CardActions>\r\n    </Card>\r\n  );\r\n}\r\nexport default ProfileThumbnail","import React from 'react'\r\nimport ProfileThumbnail from './ProfileThumbnail'\r\nimport { connect } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { Button } from '@material-ui/core'\r\nimport { searchProfiles } from '../../actions/profiles'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n\r\n  root: {\r\n    width: '100%',\r\n    height: '100%',\r\n    color: '#bbb',\r\n    paddingTop: '15px',\r\n    textAlign: 'center'\r\n  },\r\n  center: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n\r\n  },\r\n  container: {\r\n    width: '80%',\r\n    display: 'grid',\r\n    gridTemplateColumns: 'auto auto auto auto auto auto',\r\n    gridRowGap: '20px',\r\n    alignContent: 'space-evenly'\r\n  },\r\n  pagination: {\r\n    margin: '30px auto',\r\n    width: '30%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'baseline',\r\n    fontSize: '1.3em'\r\n  }\r\n})\r\n\r\nconst Profiles = ({ profiles, searchOptions, searchProfiles }) => {\r\n  \r\n\r\n  const classes = useStyles()\r\n\r\n  const handlePageChange = direction => {\r\n\r\n    searchProfiles({\r\n      age: searchOptions.age,\r\n      gender: searchOptions.gender,\r\n      page: direction === 'next' ? searchOptions.page + 1 : searchOptions.page - 1,\r\n      limit: searchOptions.limit\r\n    })\r\n  }\r\n\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      <h1>Search Result</h1>\r\n      <div className={classes.center}>\r\n        <div className={classes.container}>\r\n          {\r\n            profiles.map(profile => <Link to={`/search/profiles/${profile.username}`} key={profile.id}>\r\n              <ProfileThumbnail\r\n                username={profile.username}\r\n                image={profile.image.imageUrl}\r\n              />\r\n              </Link>)\r\n          }\r\n        </div>\r\n      </div>\r\n      {profiles.length > 0 && <div className={classes.pagination}>\r\n        <Button\r\n          disabled={searchOptions.page === 1}\r\n          onClick={() => handlePageChange('prev')}\r\n        >\r\n          {'< '}prev page\r\n        </Button>\r\n\r\n        <Button\r\n          disabled={searchOptions.page * searchOptions.limit >= searchOptions.profileCount}\r\n          onClick={() => handlePageChange('next')}\r\n        >\r\n          next page{' >'}\r\n        </Button>\r\n      </div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  profiles: state.profiles,\r\n  searchOptions: state.search\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  searchProfiles\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Profiles)","import React from 'react'\r\nimport { styled } from '@material-ui/styles'\r\n\r\n\r\n\r\nconst ImageWindow = styled('div')({\r\n  width: '400px',\r\n  backgroundColor: 'rgba(0,0,0,0.8)',\r\n  color: '#fff',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  padding: '16px',\r\n  borderRadius: '5px',\r\n  position: 'fixed',\r\n  zIndex: 50,\r\n  left: window.innerWidth / 2 - 200,\r\n  top: window.innerHeight / 2 - 200,\r\n  fontSize: '17px',\r\n  boxShadow: '0px 4px 18px 7px rgba(0,0,0,0.75)',\r\n  cursor: 'pointer'\r\n})\r\n\r\n\r\nconst ProfilePicture = props => {\r\n  \r\n  return <ImageWindow onClick={() => props.showImage(false)} >\r\n    <img src={props.imageUrl} alt=\"profile\" width=\"400\" />\r\n  </ImageWindow>\r\n}\r\n\r\nexport default ProfilePicture\r\n","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport ProfilePicture from './ProfilePicture'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    color: '#bbb'\r\n  },\r\n  container: {\r\n    width: '90%',\r\n    display: 'flex',\r\n    flexDirection: 'row'\r\n  },\r\n  image: {\r\n    borderRadius: '5px',\r\n    boxShadow: '10px 10px 5px 0px rgba(0,0,0,0.75)',\r\n    cursor: 'pointer'\r\n  },\r\n  text: {\r\n    marginLeft: '20px',\r\n    marginRight: '20px'\r\n  }\r\n})\r\n\r\n\r\nconst Profile = ({ match, profile }) => {\r\n  const [showBigPicture, setShowBigPicture] = React.useState(false)\r\n  const classes = useStyles()\r\n\r\n  if (!profile)\r\n    return <div></div>\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <h1>{profile.username}</h1>\r\n      <div className={classes.container}>\r\n        <img\r\n          src={profile.image.imageUrl}\r\n          alt={`${profile.username}`}\r\n          width=\"150\"\r\n          className={classes.image}\r\n          onClick={() => setShowBigPicture(true)}\r\n        />\r\n        <p className={classes.text}>{profile.profileText}</p>\r\n      </div>\r\n      {showBigPicture && <ProfilePicture imageUrl={profile.image.imageUrl} showImage={setShowBigPicture} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state, { match }) => {\r\n  return {\r\n    profile: state.profiles.find(profile => profile.username === match.params.username)\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(Profile))","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { NavLink } from 'react-router-dom'\r\nimport ReplyIcon from '@material-ui/icons/Reply'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    marginLeft: '10%'\r\n  },\r\n  navLink: {\r\n    color: '#999',\r\n    textDecoration: 'none',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center'\r\n  },\r\n  active: {\r\n    color: 'white'\r\n  },\r\n  icon: {\r\n    paddingRight: '5px'\r\n  }\r\n})\r\n\r\nconst ReplyMailNavigation = props => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <p><NavLink\r\n        to={`/profile/inbox/${props.match.params.id}/reply`}\r\n        exact\r\n        className={classes.navLink}\r\n        activeClassName={classes.active}\r\n      >\r\n        <ReplyIcon className={classes.icon} />\r\n        Reply\r\n        </NavLink></p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default ReplyMailNavigation","import React from 'react'\r\nimport { styled } from '@material-ui/styles'\r\nimport { Button } from '@material-ui/core'\r\nimport { connect } from 'react-redux'\r\nimport { addProfileImage } from '../../actions/user'\r\nimport CloseIcon from '@material-ui/icons/Close';\r\n\r\nconst FileWindow = styled('div')({\r\n  width: '300px',\r\n  backgroundColor: '#1769aa',\r\n  color: '#fff',\r\n  display: 'flex',\r\n  flexDirection: 'column',\r\n  justifyContent: 'center',\r\n  alignItems: 'center',\r\n  padding: '16px',\r\n  borderRadius: '5px',\r\n  position: 'fixed',\r\n  zIndex: 50,\r\n  left: '50%',\r\n  top: '50%',\r\n  fontSize: '17px',\r\n  boxShadow: '0px 4px 18px 7px rgba(0,0,0,0.75)',\r\n})\r\n\r\n\r\nconst FileUpload = props => {\r\n\r\n  const handleChange = e => {\r\n    props.addProfileImage(e.target.files['0'])\r\n    props.setShowFileUpload(false)\r\n  }\r\n\r\n  return <FileWindow>\r\n    <div style={{ width: '100%', textAlign: 'right', cursor: 'pointer'}}>\r\n    <CloseIcon fontSize=\"small\" onClick={() => props.setShowFileUpload(false)} />\r\n    </div>\r\n    <Button\r\n      color=\"primary\"\r\n      variant=\"contained\"\r\n      component=\"label\"\r\n    >\r\n      Upload File\r\n        <input\r\n        type=\"file\"\r\n        accept=\"image/*\"\r\n        style={{ display: \"none\" }}\r\n        onChange={handleChange}\r\n      />\r\n    </Button>\r\n\r\n    <p style={{ fontSize: '0.7em', color: '#ccc' }}>max width/height: 500px (jpg/png)</p>\r\n\r\n  </FileWindow>\r\n}\r\n\r\nexport default connect(null, { addProfileImage })(FileUpload)\r\n","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { NavLink } from 'react-router-dom'\r\nimport FileUpload from './FileUpload'\r\nimport PhotoIcon from '@material-ui/icons/Photo'\r\nimport EditIcon from '@material-ui/icons/Edit'\r\nimport SettingsIcon from '@material-ui/icons/Settings'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    color: '#999'\r\n  },\r\n  navLink: {\r\n    color: '#999',\r\n    textDecoration: 'none',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center'\r\n  },\r\n  active: {\r\n    color: 'white'\r\n  },\r\n  icon: {\r\n    paddingRight: '5px'\r\n  }\r\n})\r\n\r\nconst MailNavigationContent = props => {\r\n\r\n  const [showFileUpload, setShowFileUpload] = React.useState(false)\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <p >\r\n        <NavLink\r\n          to={`/profile/edit`}\r\n          exact\r\n          className={classes.navLink}\r\n          activeClassName={classes.active}\r\n        >\r\n          <EditIcon className={classes.icon} />\r\n          Edit Profile Text\r\n        </NavLink></p>\r\n      <p className={classes.navLink} onClick={() => setShowFileUpload(!showFileUpload)}>\r\n        <PhotoIcon className={classes.icon} />\r\n        Add Image</p>\r\n\r\n      <p>\r\n        <NavLink className={classes.navLink} to=\"/settings\">\r\n          <SettingsIcon className={classes.icon} />\r\n          Settings\r\n        </NavLink>\r\n      </p>\r\n\r\n      {showFileUpload && <FileUpload setShowFileUpload={setShowFileUpload} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MailNavigationContent","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { NavLink } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { createChatSession, openChat } from '../../actions/chat'\r\nimport { addToFavorites, blockUser } from '../../actions/user'\r\nimport ChatIcon from '@material-ui/icons/Chat'\r\nimport MailOutlineIcon from '@material-ui/icons/MailOutline'\r\nimport StarBorderIcon from '@material-ui/icons/StarBorder'\r\nimport StarIcon from '@material-ui/icons/Star'\r\nimport BlockIcon from '@material-ui/icons/Block'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center',\r\n    color: '#999'\r\n  },\r\n  navLink: {\r\n    color: '#999',\r\n    textDecoration: 'none',\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'center'\r\n  },\r\n  active: {\r\n    color: 'white'\r\n  },\r\n  icon: {\r\n    paddingRight: '5px'\r\n  }\r\n})\r\n\r\nconst SendMailNavigation = props => {\r\n\r\n  const classes = useStyles()\r\n\r\n  if (props.blockedBy)\r\n    return null\r\n\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <p><NavLink\r\n        to={`/search/profiles/${props.match.params.username}/send`}\r\n        exact\r\n        className={classes.navLink}\r\n        activeClassName={classes.active}\r\n\r\n      >\r\n        <MailOutlineIcon className={classes.icon} />\r\n        Send Mail\r\n        </NavLink></p>\r\n\r\n      <p className={classes.navLink} onClick={() => {\r\n        if (!props.profile.chatEnabled) return\r\n\r\n        if (!props.session)\r\n          props.createChatSession(props.match.params.username, true)\r\n\r\n        else\r\n          props.openChat()\r\n      }}>\r\n        <ChatIcon className={classes.icon} style={{ color: props.profile.chatEnabled ? 'green' : ''}} /> Chat\r\n      </p>\r\n\r\n      <p  >\r\n        {props.isFavorite\r\n          ?\r\n          <span className={classes.navLink} onClick={() => props.addToFavorites(props.match.params.username, 'remove')}>\r\n            <StarIcon className={classes.icon} style={{ color: 'yellow'}} />\r\n            Favorited\r\n          </span>\r\n          :\r\n          <span className={classes.navLink} onClick={() => props.addToFavorites(props.match.params.username, 'add')}>\r\n            <StarBorderIcon className={classes.icon} />\r\n            Favorite\r\n          </span>\r\n        }\r\n      </p>\r\n\r\n      <p>\r\n        {props.blocked\r\n          ?\r\n          <span className={classes.navLink} onClick={() => props.blockUser(props.match.params.username, false)}>\r\n            <BlockIcon className={classes.icon} style={{ color: 'red' }} />\r\n            Blocked\r\n          </span>\r\n          :\r\n          <span className={classes.navLink} onClick={() => props.blockUser(props.match.params.username, true)}>\r\n            <BlockIcon className={classes.icon} />\r\n            Block\r\n          </span>\r\n        }\r\n      </p>\r\n\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => ({\r\n  username: state.user.username,\r\n  blocked: state.user.blocked.includes(ownProps.match.params.username),\r\n  blockedBy: state.user.blockedBy.includes(ownProps.match.params.username),\r\n  session: state.chat.sessions[ownProps.match.params.username],\r\n  isFavorite: state.user.favorites.find(profile => profile.username === ownProps.match.params.username),\r\n  profile: state.profiles.find(profile => profile.username === ownProps.match.params.username)\r\n})\r\n\r\nexport default connect(mapStateToProps, { createChatSession, openChat, addToFavorites, blockUser })(SendMailNavigation)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { theme } from '../../theme/theme'\r\nimport { Route } from 'react-router-dom'\r\nimport ReplyMailNavigation from './ReplyMailNavigation'\r\nimport EditNavigationContent from './EditNavigationContent'\r\nimport SendMailNavigation from './SendMailNavigation'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '100%',\r\n    height: '10%',\r\n    backgroundColor: theme.smallNavigationBackground,\r\n    \r\n    background: 'linear-gradient(90deg, rgba(2, 0, 36, 1) 0 %, rgba(0, 0, 0, 1) 35 %, rgba(0, 212, 255, 1) 100 %)',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center',\r\n    color: '#999',\r\n    boxShadow: '-1px 5px 18px 0px rgba(255,255,255,0.7)'\r\n  }\r\n})\r\n\r\nconst Navigation = props => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return <div className={classes.root}>\r\n    <Route exact path=\"/profile/inbox/:id\" component={ReplyMailNavigation} />\r\n    <Route exact path=\"/profile/edit\" component={EditNavigationContent} />\r\n    <Route exact path=\"/profile\" component={EditNavigationContent} />\r\n    <Route exact path=\"/settings\" component={EditNavigationContent} />\r\n    <Route path=\"/search/profiles/:username\" component={SendMailNavigation} />\r\n  </div>\r\n}\r\n\r\nexport default Navigation","import React from 'react'\r\nimport { withRouter } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport ProfilePicture from './ProfilePicture'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    height: '90%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    justifyContent: 'flex-start',\r\n    color: '#bbb'\r\n  },\r\n  container: {\r\n    width: '90%',\r\n    height: '70%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    alignItems: 'flex-start',\r\n    padding: '20px'\r\n\r\n  },\r\n  image: {\r\n    borderRadius: '5px',\r\n    boxShadow: '10px 10px 5px 0px rgba(0,0,0,0.75)',\r\n    cursor: 'pointer'\r\n  },\r\n  text: {\r\n    width: '90%',\r\n    height: '90%',\r\n    marginLeft: '20px',\r\n    marginRight: '20px',\r\n\r\n  },\r\n  noText: {\r\n    width: '90%',\r\n    height: '80%',\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n\r\n  }\r\n})\r\n\r\n\r\nconst Profile = ({ profile }) => {\r\n  const [showBigPicture, setShowBigPicture] = React.useState(false)\r\n  const classes = useStyles()\r\n\r\n  if (!profile)\r\n    return <div></div>\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <h1>{profile.username}</h1>\r\n      <div className={classes.container}>\r\n        <img\r\n          src={profile.image.imageUrl}\r\n          alt={`${profile.username}`}\r\n          width=\"150\"\r\n          className={classes.image}\r\n          onClick={() => setShowBigPicture(true)}\r\n        />\r\n        <div className={classes.text}>\r\n          {profile.profileText ? profile.profileText : <div className={classes.noText}>No profile text added yet</div>}\r\n        </div>\r\n      </div>\r\n      {showBigPicture && <ProfilePicture imageUrl={profile.image.imageUrl} showImage={setShowBigPicture} />}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    profile: state.user.profile\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps)(withRouter(Profile))","import React from 'react'\r\nimport { makeStyles, withStyles } from '@material-ui/styles'\r\nimport { connect } from 'react-redux'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody'\r\nimport TableCell from '@material-ui/core/TableCell'\r\nimport TableHead from '@material-ui/core/TableHead'\r\nimport TableRow from '@material-ui/core/TableRow'\r\nimport Paper from '@material-ui/core/Paper'\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever'\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom'\r\nimport { deleteMail, mailRead } from '../../actions/mail'\r\n\r\nconst StyledTableCell = withStyles({\r\n  head: {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\r\n    color: 'white',\r\n    borderWidth: 0\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\r\n    color: 'white',\r\n    borderWidth: 0\r\n  },\r\n})(TableCell);\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    width: '100%',\r\n    height: '80%',\r\n    color: '#bbb',\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center'\r\n  },\r\n  root: {\r\n    width: '70%',\r\n    overflowX: 'auto',\r\n    background: 'rgba(0, 0, 0, 0.2)'\r\n\r\n  },\r\n  table: {\r\n    width: '100%',\r\n  },\r\n})\r\n\r\nconst Inbox = ({ inbox, deleteMail, mailRead }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  if (inbox.length === 0)\r\n    return <div className={classes.container}>\r\n      <h1>Inbox is Empty</h1>\r\n    </div>\r\n\r\n  return <div className={classes.container}>\r\n    <h1>Inbox</h1>\r\n    <Paper className={classes.root}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <StyledTableCell>Title</StyledTableCell>\r\n            <StyledTableCell align=\"left\">Author</StyledTableCell>\r\n            <StyledTableCell align=\"left\">Date</StyledTableCell>\r\n            <StyledTableCell align=\"left\">Delete</StyledTableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {inbox && inbox.map(mail => (\r\n            <TableRow key={mail.id}>\r\n              <StyledTableCell component=\"th\" scope=\"row\">\r\n                <Link to={`/profile/inbox/${mail.id}`} onClick={() => {\r\n                  if (!mail.read)\r\n                    mailRead(mail.id)\r\n                }}>{mail.title}</Link>\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"left\">{mail.author}</StyledTableCell>\r\n              <StyledTableCell align=\"left\">{moment(mail.createdAt).format('LLL')}</StyledTableCell>\r\n              <StyledTableCell align=\"left\">\r\n                <DeleteForeverIcon style={{ cursor: 'pointer' }} onClick={() => deleteMail(mail.id, 'inbox')} />\r\n              </StyledTableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </Paper>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  inbox: state.mail.inbox\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { deleteMail, mailRead })(Inbox)","import React from 'react'\r\nimport { makeStyles, withStyles } from '@material-ui/styles'\r\nimport { connect } from 'react-redux'\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Paper from '@material-ui/core/Paper';\r\nimport moment from 'moment'\r\nimport { Link } from 'react-router-dom'\r\nimport DeleteForeverIcon from '@material-ui/icons/DeleteForever'\r\nimport { deleteMail } from '../../actions/mail'\r\n\r\nconst StyledTableCell = withStyles({\r\n  head: {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\r\n    color: 'white',\r\n    borderWidth: 0\r\n  },\r\n  body: {\r\n    fontSize: 14,\r\n    backgroundColor: 'rgba(0, 0, 0, 0.2)',\r\n    color: 'white',\r\n    borderWidth: 0\r\n  },\r\n})(TableCell);\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  container: {\r\n    width: '100%',\r\n    height: '80%',\r\n    color: '#bbb',\r\n    textAlign: 'center',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center'\r\n  },\r\n  root: {\r\n    width: '70%',\r\n    overflowX: 'auto',\r\n    background: 'rgba(0, 0, 0, 0.2)'\r\n    \r\n  },\r\n  table: {\r\n    width: '100%',\r\n  },\r\n})\r\n\r\nconst SentMail = ({ sent, deleteMail }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  if (sent.length === 0)\r\n    return <div className={classes.container}>\r\n      <h1>No Sent Mail</h1>\r\n    </div>\r\n\r\n  return <div className={classes.container}>\r\n    <h1>Sent Mail</h1>\r\n    <Paper className={classes.root}>\r\n      <Table className={classes.table} aria-label=\"simple table\">\r\n        <TableHead>\r\n          <TableRow>\r\n            <StyledTableCell>Title</StyledTableCell>\r\n            <StyledTableCell align=\"left\">Author</StyledTableCell>\r\n            <StyledTableCell align=\"left\">Date</StyledTableCell>\r\n            <StyledTableCell align=\"left\">Delete</StyledTableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {sent && sent.map(mail => (\r\n            <TableRow key={mail.id}>\r\n              <StyledTableCell component=\"th\" scope=\"row\">\r\n                <Link to={`/profile/sent/${mail.id}`}>{mail.title}</Link>\r\n              </StyledTableCell>\r\n              <StyledTableCell align=\"left\">{mail.author}</StyledTableCell>\r\n              <StyledTableCell align=\"left\">{moment(mail.createdAt).format('LLL')}</StyledTableCell>\r\n              <StyledTableCell align=\"left\">\r\n                <DeleteForeverIcon style={{ cursor: 'pointer' }} onClick={() => deleteMail(mail.id, 'sent')} />\r\n                </StyledTableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </Paper>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  sent: state.mail.sent\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps, { deleteMail })(SentMail)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { connect } from 'react-redux'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    color: '#bbb',\r\n    textAlign: 'center',\r\n    widht: '100%',\r\n    height: '90%',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'flex-start',\r\n    alignItems: 'center'\r\n  },\r\n  container: {\r\n    background: 'rgba(0, 0, 0, 0.4)',\r\n    width: '80%',\r\n    minHeight: '40%',\r\n    borderRadius: '5px',\r\n    textAlign: 'left',\r\n    padding: '20px'\r\n  }\r\n})\r\n\r\nconst MailContent = ({ mail }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  if (!mail)\r\n    return <div></div>\r\n\r\n  return <div className={classes.root}>\r\n    {<h1>{mail.title}</h1>}\r\n    <div className={classes.container}>\r\n      {mail.content}\r\n\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = (state, { match }) => {\r\n\r\n  if (match.path.includes('inbox'))\r\n    return {\r\n      mail: state.mail.inbox.find(mail => mail.id === match.params.id)\r\n    }\r\n\r\n  else\r\n    return {\r\n      mail: state.mail.sent.find(mail => mail.id === match.params.id)\r\n    }\r\n}\r\nexport default connect(mapStateToProps)(MailContent)","import React from 'react'\r\nimport useField from '../../hooks/useField'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { TextField, Button } from '@material-ui/core'\r\nimport { theme } from '../../theme/theme'\r\nimport { connect } from 'react-redux'\r\nimport { reply } from '../../actions/mail'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    color: '#bbb'\r\n  },\r\n  textField: {\r\n    width: '80%',\r\n    background: 'rgba(0, 0, 0, 0.5)'\r\n  },\r\n  cssLabel: {\r\n    color: theme.inputLabelColor\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    '&$cssFocused $notchedOutline': {\r\n      borderColor: `${theme.inputFocusedBorderColor} !important`,\r\n    },\r\n    color: 'white'\r\n  },\r\n  cssFocused: {\r\n    color: `${theme.inputFocusedLabelColor} !important`\r\n  },\r\n  icon: {\r\n    backgroundColor: 'inherit'\r\n  },\r\n  notchedOutline: {\r\n    borderWidth: '1px',\r\n    borderColor: `${theme.inputBorderColor} !important`\r\n  },\r\n  buttonContainer: {\r\n    width: '80%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end'\r\n  },\r\n  button: {\r\n    marginTop: '10px',\r\n    marginRight: '30px',\r\n    width: '100px'\r\n  }\r\n\r\n})\r\n\r\nconst ReplyMailForm = ({ match, history, reply, mail, blockedBy }) => {\r\n\r\n  const [text, clearText] = useField('text')\r\n\r\n  const classes = useStyles()\r\n\r\n  if (!mail)\r\n    return <div></div>\r\n\r\n  return <div className={classes.root}>\r\n    <h1>Reply to: {mail.author} </h1>\r\n    <TextField\r\n      id=\"outlined-multiline-static\"\r\n      label=\"Reply\"\r\n      {...text}\r\n      multiline\r\n      rows=\"7\"\r\n      className={classes.textField}\r\n      margin=\"normal\"\r\n      variant=\"outlined\"\r\n      InputLabelProps={{\r\n        classes: {\r\n          root: classes.cssLabel,\r\n          focused: classes.cssFocused,\r\n        }\r\n      }}\r\n      InputProps={{\r\n        classes: {\r\n          root: classes.cssOutlinedInput,\r\n          focused: classes.cssFocused,\r\n          notchedOutline: classes.notchedOutline,\r\n        }\r\n      }}\r\n    />\r\n    <div className={classes.buttonContainer}>\r\n      <Button\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          history.goBack()\r\n        }}\r\n        className={classes.button}\r\n      >\r\n        Cancel\r\n      </Button>\r\n\r\n      <Button\r\n        disabled={blockedBy.includes(mail.author)}\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          reply(match.params.id, text.value)\r\n          clearText()\r\n          history.push('/profile')\r\n        }}\r\n        className={classes.button}\r\n      >\r\n        Send\r\n      </Button>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = (state, ownProps) => {\r\n  return {\r\n    mail: state.mail.inbox.find(m => m.id === ownProps.match.params.id),\r\n    blockedBy: state.user.blockedBy\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { reply })(ReplyMailForm)","import React from 'react'\r\nimport useField from '../../hooks/useField'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { TextField, Button } from '@material-ui/core'\r\nimport { theme } from '../../theme/theme'\r\nimport { connect } from 'react-redux'\r\nimport { editProfileText } from '../../actions/user'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    color: '#bbb'\r\n  },\r\n  textField: {\r\n    width: '80%',\r\n    background: 'rgba(0, 0, 0, 0.5)'\r\n  },\r\n  cssLabel: {\r\n    color: theme.inputLabelColor\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    '&$cssFocused $notchedOutline': {\r\n      borderColor: `${theme.inputFocusedBorderColor} !important`,\r\n    },\r\n    color: 'white'\r\n  },\r\n  cssFocused: {\r\n    color: `${theme.inputFocusedLabelColor} !important`\r\n  },\r\n  icon: {\r\n    backgroundColor: 'inherit'\r\n  },\r\n  notchedOutline: {\r\n    borderWidth: '1px',\r\n    borderColor: `${theme.inputBorderColor} !important`\r\n  },\r\n  buttonContainer: {\r\n    width: '80%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end'\r\n  },\r\n  button: {\r\n    marginTop: '10px',\r\n    marginRight: '30px',\r\n    width: '100px'\r\n  }\r\n\r\n})\r\n\r\nconst EditProfile = ({ history, editProfileText, oldText }) => {\r\n\r\n  const [text, clearText] = useField('text', undefined, oldText)\r\n\r\n  const classes = useStyles()\r\n\r\n  if (!oldText)\r\n    return <div></div>\r\n\r\n  return <div className={classes.root}>\r\n    <h1>Edit profile text</h1>\r\n    <TextField\r\n      id=\"outlined-multiline-static\"\r\n\r\n      label=\"Edit\"\r\n      {...text}\r\n      multiline\r\n      rows=\"7\"\r\n      className={classes.textField}\r\n      margin=\"normal\"\r\n      variant=\"outlined\"\r\n      InputLabelProps={{\r\n        classes: {\r\n          root: classes.cssLabel,\r\n          focused: classes.cssFocused,\r\n        }\r\n      }}\r\n      InputProps={{\r\n        classes: {\r\n          root: classes.cssOutlinedInput,\r\n          focused: classes.cssFocused,\r\n          notchedOutline: classes.notchedOutline,\r\n        }\r\n      }}\r\n    />\r\n    <div className={classes.buttonContainer}>\r\n      <Button\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          history.push('/profile')\r\n        }}\r\n        className={classes.button}\r\n      >\r\n        Cancel\r\n      </Button>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          editProfileText(text.value)\r\n          clearText()\r\n          history.push('/profile')\r\n        }}\r\n        className={classes.button}\r\n      >\r\n        Send\r\n      </Button>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    oldText: state.user.profile.profileText\r\n  }\r\n}\r\n\r\nexport default connect(mapStateToProps, { editProfileText })(EditProfile)","import React from 'react'\r\nimport useField from '../../hooks/useField'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { TextField, Button } from '@material-ui/core'\r\nimport { theme } from '../../theme/theme'\r\nimport { connect } from 'react-redux'\r\nimport { sendMail } from '../../actions/mail'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    color: '#bbb'\r\n  },\r\n  textField: {\r\n    width: '80%',\r\n    background: 'rgba(0, 0, 0, 0.5)'\r\n  },\r\n  cssLabel: {\r\n    color: theme.inputLabelColor\r\n  },\r\n\r\n  cssOutlinedInput: {\r\n    '&$cssFocused $notchedOutline': {\r\n      borderColor: `${theme.inputFocusedBorderColor} !important`,\r\n    },\r\n    color: 'white'\r\n  },\r\n  cssFocused: {\r\n    color: `${theme.inputFocusedLabelColor} !important`\r\n  },\r\n  icon: {\r\n    backgroundColor: 'inherit'\r\n  },\r\n  notchedOutline: {\r\n    borderWidth: '1px',\r\n    borderColor: `${theme.inputBorderColor} !important`\r\n  },\r\n  buttonContainer: {\r\n    width: '80%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'flex-end'\r\n  },\r\n  button: {\r\n    marginTop: '10px',\r\n    marginRight: '30px',\r\n    width: '100px'\r\n  }\r\n\r\n})\r\n\r\nconst SendMailForm = ({ match, history, sendMail }) => {\r\n\r\n  const [content, clearContent] = useField('text')\r\n  const [title, clearTitle] = useField('text')\r\n\r\n  const classes = useStyles()\r\n\r\n  return <div className={classes.root}>\r\n    <h1>Send Mail To: {match.params.username} </h1>\r\n\r\n    <TextField\r\n      {...title}\r\n      className={classes.textField}\r\n      label=\"Title\"\r\n      margin=\"normal\"\r\n      fullWidth\r\n      variant=\"outlined\"\r\n      InputLabelProps={{\r\n        classes: {\r\n          root: classes.cssLabel,\r\n          focused: classes.cssFocused,\r\n        },\r\n      }}\r\n      InputProps={{\r\n        classes: {\r\n          root: classes.cssOutlinedInput,\r\n          focused: classes.cssFocused,\r\n          notchedOutline: classes.notchedOutline,\r\n        }\r\n      }}\r\n    />\r\n\r\n    <TextField\r\n      id=\"outlined-multiline-static\"\r\n      label=\"Reply\"\r\n      {...content}\r\n      multiline\r\n      rows=\"7\"\r\n      className={classes.textField}\r\n      margin=\"normal\"\r\n      variant=\"outlined\"\r\n      InputLabelProps={{\r\n        classes: {\r\n          root: classes.cssLabel,\r\n          focused: classes.cssFocused,\r\n        }\r\n      }}\r\n      InputProps={{\r\n        classes: {\r\n          root: classes.cssOutlinedInput,\r\n          focused: classes.cssFocused,\r\n          notchedOutline: classes.notchedOutline,\r\n        }\r\n      }}\r\n    />\r\n    <div className={classes.buttonContainer}>\r\n      <Button\r\n        variant=\"outlined\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          history.goBack()\r\n        }}\r\n        className={classes.button}\r\n      >\r\n        Cancel\r\n      </Button>\r\n\r\n      <Button\r\n        variant=\"contained\"\r\n        color=\"primary\"\r\n        onClick={() => {\r\n          sendMail(match.params.username, title.value, content.value)\r\n          clearContent()\r\n          clearTitle()\r\n          history.push('/profile')\r\n        }}\r\n        className={classes.button}\r\n      >\r\n        Send\r\n      </Button>\r\n    </div>\r\n  </div>\r\n}\r\n\r\nexport default connect(null, { sendMail })(SendMailForm)","import React from 'react'\r\nimport ProfileThumbnail from './ProfileThumbnail'\r\nimport { connect } from 'react-redux'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { Button } from '@material-ui/core'\r\nimport { Link } from 'react-router-dom'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n\r\n  root: {\r\n    width: '100%',\r\n    height: '100%',\r\n    color: '#bbb',\r\n    paddingTop: '15px',\r\n    textAlign: 'center'\r\n  },\r\n  center: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    flexDirection: 'column',\r\n    alignItems: 'center'\r\n\r\n  },\r\n  container: {\r\n    width: '80%',\r\n    display: 'grid',\r\n    gridTemplateColumns: 'auto auto auto auto auto auto',\r\n    gridRowGap: '20px',\r\n    alignContent: 'space-evenly'\r\n  },\r\n  pagination: {\r\n    margin: '30px auto',\r\n    width: '30%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'baseline',\r\n    fontSize: '1.3em'\r\n  }\r\n})\r\n\r\nconst Favorites = ({ profiles }) => {\r\n  \r\n\r\n  const classes = useStyles()\r\n\r\n  const handlePageChange = direction => {\r\n\r\n    \r\n  }\r\n\r\n  \r\n  return (\r\n    <div className={classes.root}>\r\n      <h1>{profiles.length > 0 ? 'Your Favorites' : 'No favorites chosen yet'}</h1>\r\n      <div className={classes.center}>\r\n        <div className={classes.container}>\r\n          { \r\n            profiles.map(profile => <Link to={`/search/profiles/${profile.username}`} key={profile.id}>\r\n              <ProfileThumbnail\r\n                username={profile.username}\r\n                image={profile.image.imageUrl}\r\n              />\r\n              </Link>)\r\n          }\r\n        </div>\r\n      </div>\r\n      {profiles.length > 0 && <div className={classes.pagination}>\r\n        <Button\r\n          disabled={true}\r\n          onClick={() => handlePageChange('prev')}\r\n        >\r\n          {'< '}prev page\r\n        </Button>\r\n\r\n        <Button\r\n          disabled={true}\r\n          onClick={() => handlePageChange('next')}\r\n        >\r\n          next page{' >'}\r\n        </Button>\r\n      </div>}\r\n    </div>\r\n  )\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  profiles: state.user.favorites\r\n})\r\n\r\n\r\nexport default connect(mapStateToProps)(Favorites)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { Button } from '@material-ui/core'\r\nimport userService from '../../services/user'\r\nimport { logout } from '../../actions/user'\r\nimport { connect } from 'react-redux'\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '80%',\r\n    height: '40%',\r\n    margin: '0 auto',\r\n    paddingTop: '8%',\r\n    color: '#bbb'\r\n  },\r\n  buttonContainer: {\r\n    width: '80%',\r\n    paddingTop: '3%',\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around',\r\n    alignItems: 'center'\r\n  },\r\n  headersAndImage: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-around'\r\n  }\r\n})\r\n\r\nconst EraseProfile = ({ logout, history, token }) => {\r\n\r\n  const classes = useStyles()\r\n\r\n  const handleErase = async () => {\r\n    userService.saveToken(token)\r\n    await userService.eraseUser()\r\n    history.push('/')\r\n    logout()\r\n  }\r\n\r\n  return <div className={classes.root}>\r\n    <div className={classes.headersAndImage}>\r\n      <div className={classes.headerContainer}>\r\n        <h1>Sad to see you go!</h1>\r\n        <h2>Are you certain you want to leave us?</h2>\r\n      </div>\r\n      <img src=\"./assets/images/tear1.png\" width=\"120\" alt=\"cry\" />\r\n    </div>\r\n    <div className={classes.buttonContainer}>\r\n      <Button color=\"secondary\" variant=\"contained\" onClick={handleErase}>Erase Profile</Button>\r\n      <Button color=\"primary\" variant=\"outlined\" onClick={() => history.push(\"/profile\")} >Cancel</Button>\r\n    </div>\r\n\r\n  </div>\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  token: state.user.token\r\n})\r\n\r\nexport default connect(mapStateToProps, { logout })(EraseProfile)\r\n\r\n\r\n","import React from 'react'\r\nimport { Paper } from '@material-ui/core'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport { theme } from '../../theme/theme'\r\nimport { Route, withRouter } from 'react-router-dom'\r\nimport Profiles from './Profiles'\r\nimport Profile from './Profile'\r\nimport Navigation from './Navigation'\r\nimport OwnProfile from './OwnProfile'\r\nimport Inbox from './Inbox'\r\nimport SentMail from './SentMail'\r\nimport MailContent from './MailContent'\r\nimport ReplyMailForm from './ReplyMailForm'\r\nimport EditProfile from './EditProfile'\r\nimport SendMailForm from './SendMailForm'\r\nimport Favorites from './Favorites'\r\nimport EraseProfile from './EraseProfile'\r\n\r\n\r\nconst useStyles = makeStyles({\r\n  root: {\r\n    width: '74%',\r\n    height: '90%',\r\n    marginRight: '1%',\r\n    background: theme.contentAreaBackground,\r\n    border: '2px solid #bbb',\r\n    overflow: 'hidden'\r\n  },\r\n  welcome: {\r\n    width: '100%',\r\n    height: '100%',\r\n    backgroundImage: \"url('/assets/images/tausta4.jpg')\",\r\n    backgroundSize: 'cover'\r\n  }\r\n})\r\n\r\nconst Welcome = props => {\r\n  const classes = useStyles()\r\n\r\n  return <div className={classes.welcome} />\r\n}\r\n\r\nconst ContentArea = ({ location }) => {\r\n\r\n  \r\n  const classes = useStyles()\r\n  \r\n  return <Paper className={classes.root} elevation={5}>\r\n    { location.pathname !== '/' && <Navigation /> }\r\n    <Route exact path=\"/search/profiles/:username/send\" component={SendMailForm} />\r\n    <Route exact path=\"/search/profiles/:username\" component={Profile} />\r\n    <Route exact path=\"/search/profiles\" render={() => <Profiles />} />\r\n    <Route exact path=\"/search\" component={Favorites} />\r\n    <Route exact path=\"/erase\" component={EraseProfile} />\r\n    <Route exact path=\"/profile/inbox/:id/reply\" component={ReplyMailForm} />\r\n    <Route exact path=\"/profile/inbox/:id\" component={MailContent} />\r\n    <Route exact path=\"/profile/inbox\" component={Inbox} />\r\n    <Route exact path=\"/profile/sent/:id\" component={MailContent} />\r\n    <Route exact path=\"/profile/sent\" component={SentMail} />\r\n    <Route exact path=\"/profile/edit\" component={EditProfile} />\r\n    <Route exact path=\"/profile\" component={OwnProfile} />\r\n    <Route exact path=\"/settings\" component={OwnProfile} />\r\n    <Route exact path=\"/\" component={Welcome} />\r\n  \r\n  </Paper>\r\n}\r\n\r\n\r\nexport default withRouter(ContentArea)","import React from 'react'\r\nimport { makeStyles } from '@material-ui/styles'\r\nimport Sidebar from './Sidebar/Sidebar'\r\nimport ContentArea from './ContentArea/ContentArea'\r\n\r\nconst useStyles = makeStyles({\r\n  contentContainer: {\r\n    width: '100%',\r\n    height: '88%',\r\n    display: 'flex',\r\n    alignItems: 'flex-start'\r\n  }\r\n})\r\n\r\nconst MainPage = props => {\r\n\r\n  const classes = useStyles()\r\n\r\n  return (\r\n    <div className={classes.contentContainer}>\r\n      <Sidebar />\r\n      <ContentArea />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default MainPage","import React, { useEffect } from 'react'\r\nimport { makeStyles } from '@material-ui/core/styles'\r\nimport Snackbar from '@material-ui/core/Snackbar'\r\nimport IconButton from '@material-ui/core/IconButton'\r\nimport CloseIcon from '@material-ui/icons/Close'\r\nimport { connect } from 'react-redux'\r\nimport { setNotification } from '../../actions/notification'\r\n\r\nconst useStyles = makeStyles({\r\n  close: {\r\n    padding: '10px',\r\n  },\r\n});\r\n\r\nconst Notification = ({ message, setNotification }) => {\r\n  const classes = useStyles();\r\n  const [open, setOpen] = React.useState(false)\r\n\r\n  useEffect(() => {\r\n    if (message)\r\n      setOpen(true)\r\n\r\n  }, [message])\r\n\r\n  const handleClose = (event, reason) => {\r\n    if (reason === 'clickaway') {\r\n      return;\r\n    }\r\n\r\n    setOpen(false);\r\n    setNotification('')\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Snackbar\r\n        anchorOrigin={{\r\n          vertical: 'top',\r\n          horizontal: 'left',\r\n        }}\r\n        open={open}\r\n        autoHideDuration={6000}\r\n        onClose={handleClose}\r\n        ContentProps={{\r\n          'aria-describedby': 'message-id',\r\n        }}\r\n      message={<span id=\"message-id\">{message}</span>}\r\n        action={[\r\n          \r\n          <IconButton\r\n            key=\"close\"\r\n            aria-label=\"close\"\r\n            color=\"inherit\"\r\n            className={classes.close}\r\n            onClick={handleClose}\r\n          >\r\n            <CloseIcon />\r\n          </IconButton>,\r\n        ]}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n  message: state.notification\r\n})\r\n\r\nconst mapDispatchToProps = {\r\n  setNotification\r\n}\r\n\r\nexport default connect(mapStateToProps, mapDispatchToProps)(Notification)","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles'\nimport Paper from '@material-ui/core/Paper'\nimport Navigation from './components/Navigation/Navigation'\n\nimport { theme } from './theme/theme'\nimport { BrowserRouter, Route } from 'react-router-dom'\nimport MainPage from './components/MainPage'\nimport Notification from './components/NotificationSnackbar/Notification';\n\n\nconst useStyles = makeStyles({\n  root: {\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    backgroundImage: \"url('/assets/images/33.jpg')\",\n    margin: 0,\n    padding: 0,\n    color: theme.signupHeaderColor,\n    fontFamily: 'Forum, cursive'\n  },\n  container: {\n    width: '95%',\n    height: '90%',\n    background: theme.background,\n    margin: 0,\n    padding: 0\n  },\n  contentContainer: {\n    width: '100%',\n    height: '100%',\n    display: 'flex',\n    alignItems: 'flex-start'\n  }\n})\n\n\nfunction App(props) {\n\n  const classes = useStyles()\n\n  return (\n    <div className={classes.root}>\n      <Paper className={classes.container} elevation={8}>\n        <BrowserRouter>\n          <Navigation />\n          <Route path=\"/\" render={(props) => <MainPage {...props} />} />\n        </BrowserRouter>\n        <Notification />\n      </Paper>\n    </div>\n  );\n}\n\n\nexport default App;\n","\r\nconst initialState = {\r\n  loggedIn: false\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SIGNUP':\r\n      return {\r\n        ...state,\r\n        ...action.userData\r\n      }\r\n    case 'LOGIN':\r\n      return {\r\n        loggedIn: true,\r\n        ...action.userData\r\n      }\r\n\r\n    case 'LOGOUT':\r\n    case 'RESET':\r\n      return initialState\r\n\r\n    case 'EDIT_PROFILE_TEXT':\r\n      return {\r\n        ...state,\r\n        profile: action.profile\r\n      }\r\n\r\n    case 'ADD_PROFILE_PICTURE':\r\n      return {\r\n        ...state,\r\n        profile: {\r\n          ...state.profile,\r\n          image: action.image\r\n        }\r\n      }\r\n\r\n    case 'ADD_TO_FAVORITES':\r\n      return {\r\n        ...state,\r\n        favorites: state.favorites.concat(action.profile)\r\n      }\r\n\r\n    case 'BLOCK_USER':\r\n      return {\r\n        ...state,\r\n        blocked: state.blocked.concat(action.userToBlock)\r\n      }\r\n\r\n    case 'UNBLOCK_USER':\r\n      return {\r\n        ...state,\r\n        blocked: state.blocked.filter(user => user !== action.userToBlock)\r\n      }\r\n\r\n    case 'BEING_BLOCKED': \r\n    return {\r\n      ...state,\r\n      blockedBy: state.blockedBy.concat(action.userWhoBlocked)\r\n    }\r\n\r\n    case 'BEING_UNBLOCKED':\r\n      return {\r\n        ...state,\r\n        blockedBy: state.blockedBy.filter(user => user !== action.userWhoBlocked)\r\n      }\r\n\r\n    case 'REMOVE_FROM_FAVORITES': \r\n      return {\r\n        ...state,\r\n        favorites: state.favorites.filter(favProfile => favProfile.username !== action.profile.username)\r\n      }\r\n    \r\n\r\n    case 'TOGGLE_CHAT_ENABLED':\r\n      return {\r\n        ...state,\r\n        profile: {\r\n          ...state.profile,\r\n          chatEnabled: action.enable\r\n        }\r\n      }\r\n\r\n    case 'TOGGLE_PROFILE_VISIBLE':\r\n      return {\r\n        ...state,\r\n        profile: {\r\n          ...state.profile,\r\n          visible: action.visible\r\n        }\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","\r\nconst initialState = []\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n\r\n    case 'FETCH_FAVORITES':\r\n    case 'SEARCH_PROFILES':\r\n      return action.profiles\r\n\r\n    case 'RESET':\r\n      return initialState\r\n\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","\r\nconst initialState = {\r\n  age: [],\r\n  gender: '',\r\n  page: 1,\r\n  limit: 12,\r\n  profileCount: 0\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_SEARCH':\r\n      return {\r\n        ...state,\r\n        ...action.data\r\n      }\r\n\r\n    case 'RESET':\r\n      return initialState\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","\r\nconst initialState = {\r\n  inbox: [],\r\n  sent: [],\r\n  countOfUnread: 0\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'FETCH_INBOX':\r\n      return {\r\n        ...state,\r\n        inbox: action.inbox\r\n      }\r\n\r\n    case 'FETCH_SENT':\r\n      return {\r\n        ...state,\r\n        sent: action.sent\r\n      }\r\n\r\n    case 'REPLY':\r\n    case 'SEND_MAIL':\r\n      return {\r\n        ...state,\r\n        sent: state.sent.concat(action.mail)\r\n      }\r\n\r\n    case 'RESET':\r\n      return initialState\r\n\r\n    case 'DELETE_MAIL':\r\n      return {\r\n        ...state,\r\n        [action.source]: state[action.source].filter(mail => mail.id !== action.id)\r\n      }\r\n\r\n    case 'SET_UNREAD_MAIL_COUNT':\r\n      return {\r\n        ...state,\r\n        countOfUnread: action.count\r\n      }\r\n    case 'MAIL_READ':\r\n      return {\r\n        ...state,\r\n        countOfUnread: state.countOfUnread - 1\r\n      }\r\n\r\n    case 'MAIL_UNREAD':\r\n      return {\r\n        ...state,\r\n        countOfUnread: state.countOfUnread + 1\r\n      }\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","\r\nconst initialState = {\r\n  sessions: {},\r\n  chatWith: '',\r\n  chatOpen: false,\r\n  maxWindow: false\r\n}\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'OPEN_CHAT':\r\n      return {\r\n        ...state,\r\n        chatOpen: true\r\n      }\r\n\r\n    case 'CLOSE_CHAT':\r\n      return {\r\n        ...state,\r\n        chatOpen: false\r\n      }\r\n\r\n    case 'TOGGLE_CHAT':\r\n      return {\r\n        ...state,\r\n        chatOpen: !state.chatOpen\r\n      }\r\n\r\n    case 'ADD_CHAT_MESSAGE':\r\n      return {\r\n        ...state,\r\n        sessions: {\r\n          ...state.sessions,\r\n          [action.id]: {\r\n            ...state.sessions[action.id],\r\n            messages: state.sessions[action.id].messages.concat(action.message)\r\n          }\r\n        }\r\n      }\r\n\r\n    case 'RECEIVE_CHAT_MESSAGE':\r\n      return {\r\n        ...state,\r\n        chatOpen: true,\r\n        sessions: {\r\n          ...state.sessions,\r\n          [action.id]: {\r\n            ...state.sessions[action.id],\r\n            messages: state.sessions[action.id].messages.concat(action.message)\r\n          }\r\n        }\r\n      }\r\n\r\n    case 'CREATE_CHAT_SESSION':\r\n      return {\r\n        ...state,\r\n        chatOpen: true,\r\n        chatWith: (action.setChatWith || Object.keys(state.sessions).length === 0) ? action.id : state.chatWith,\r\n        sessions: {\r\n          ...state.sessions,\r\n          [action.id]: action.session\r\n        }\r\n      }\r\n\r\n    case 'DESTROY_SESSION':\r\n      const { [action.sessionId]: _, ...otherSessions } = state.sessions\r\n      const keys = Object.keys(otherSessions)\r\n\r\n      if (keys.length === 0)\r\n        return initialState\r\n\r\n      return {\r\n        ...state,\r\n        chatWith: keys[0],\r\n        sessions: otherSessions\r\n      }\r\n\r\n    case 'SET_CHAT_WITH':\r\n      return {\r\n        ...state,\r\n        maxWindow: true,\r\n        chatWith: action.chatWith\r\n      }\r\n\r\n    case 'SET_MAX_WINDOW':\r\n      return {\r\n        ...state,\r\n        maxWindow: action.onOff\r\n      }\r\n\r\n\r\n    case 'SET_DOT':\r\n      return {\r\n        ...state,\r\n        sessions: {\r\n          ...state.sessions,\r\n          [action.id]: {\r\n            ...state.sessions[action.id],\r\n            dot: action.onOff\r\n          }\r\n        }\r\n      }\r\n\r\n    case 'RESET_CHAT':\r\n    case 'RESET':\r\n      return initialState\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","import { createStore, combineReducers, applyMiddleware } from 'redux'\r\nimport usersReducer from '../reducers/user'\r\nimport profilesReducer from '../reducers/profiles'\r\nimport searchReducer from '../reducers/search'\r\nimport mailReducer from '../reducers/mail'\r\nimport notificationReducer from '../reducers/notification'\r\nimport chatReducer from '../reducers/chat'\r\nimport { persistStore, persistReducer } from 'redux-persist'\r\nimport storage from 'redux-persist/lib/storage/session'\r\n//import logger from 'redux-logger'\r\nimport thunk from 'redux-thunk'\r\n\r\nexport const persistConfig = {\r\n  key: 'root',\r\n  storage,\r\n  whitelist: ['user', 'profiles', 'search', 'mail', 'notification', 'chat']\r\n}\r\n\r\nconst rootReducer = combineReducers({\r\n  user: usersReducer,\r\n  profiles: profilesReducer,\r\n  search: searchReducer,\r\n  mail: mailReducer,\r\n  notification: notificationReducer,\r\n  chat: chatReducer\r\n})\r\n\r\nexport const store = createStore(persistReducer(persistConfig, rootReducer), applyMiddleware(thunk))\r\n\r\nexport const persistor = persistStore(store)\r\n","const initialState = ''\r\n\r\nexport default (state = initialState, action) => {\r\n  switch (action.type) {\r\n    case 'SET_NOTIFICATION':\r\n      return action.message\r\n\r\n    case 'RESET':\r\n      return initialState\r\n\r\n    default:\r\n      return state\r\n  }\r\n}","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport { persistor, store } from './store/store'\nimport { Provider } from 'react-redux'\nimport { PersistGate } from 'redux-persist/integration/react'\nimport openSocket from 'socket.io-client'\nimport * as serviceWorker from './serviceWorker';\nimport './index.css'\n\nexport const socket = openSocket('http://localhost:3001')\n\n\nReactDOM.render(\n  <Provider store={store}>\n    <PersistGate persistor={persistor}>\n      <App />\n    </PersistGate>\n  </Provider>\n  , document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}